2000-10-31  Ramiro Estrugo  <ramiro@eazel.com>

	* src/run-nautilus:
	Remove a bunch of debug echo statements i left in by mistake.
	
2000-10-31  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-public.h:
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package), (get_eazel_auth_path),
	(get_search_url_for_package):
	* components/services/install/lib/eazel-install-metadata.c:
	(init_default_transfer_configuration), (transferoptions_destroy):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_initialize):
	* components/services/install/command-line/eazel-alt-install-corba.
	c: (set_parameters_from_command_line):
	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install__set_username),
	(impl_Eazel_Install__get_username), (eazel_install_get_epv):
	Stuff to get/set a username for eazel-service:/ uris. Needed for
	4004 (The Bug Noone Knew What To Do With And Everyone Ignore)
	
	* components/services/install/lib/eazel-install-logic.c:
	(eazel_install_download_packages),
	If a package fails, don't silently remove it, but set CANNOT_OPEN
	and prune it.
	(eazel_install_do_transaction_save_report),
	If no transaction dir is set, dont' try and store the report
	(eazel_install_check_existing_packages):
	Doh! All packages apparently ended at DOWNGRADES, yech.
	
	* components/services/install/lib/eazel-install-problem.c:
	(get_detailed_messages_foreach):
	Sane message if file could not be found on server
	
2000-10-31  Maciej Stachowiak  <mjs@eazel.com>

	* src/nautilus-window-manage-views.c
	(nautilus_window_set_sidebar_panels): Call `update_view' on new
	sidebar panels that get activated, so they find out about the
	location and selection.

2000-10-31  Ramiro Estrugo  <ramiro@eazel.com>

	* applets/Makefile.am:
	* applets/launcher/Makefile.am:
	* applets/launcher/nautilus-icon-applet.c: (create_pixbufs),
	(image_enter_event), (image_leave_event), (main):
	Make the applet use the nautilus launcher icon and prelight.
	
2000-10-31  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(handle_xfer_vfs_error):
	Fix 4227 - Trying to copy an unreadable file gives a bogus
	error message.
	Added code that distinguishes between the read and write phases
	of a copy.

2000-10-31  John Sullivan  <sullivan@eazel.com>

Fixed bug 4334 (changing layout separataes icon from name)
Fixed bug 4332 (Right-click after New Folder separates icon from name)

	* libnautilus-extensions/nautilus-icon-container.c:
	(icon_set_position): end renaming mode before changing position
	of icon being renamed.
	(button_press_event): end renaming mode on any background
	context click.

2000-10-31  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-protocols.c:
	(eazel_install_fetch_package):
	* nautilus-installer/src/installer.c: (eazel_install_dep_check),
	(install_done):
	* nautilus-installer/src/installer.h:

	Don't blame RPM if the real error is that services is down.

2000-10-31  Mathieu Lacage  <mathieu@eazel.com>

	* nautilus.spec.in: add applet to the spec file.
	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:
	* user-guide/C/sgml/nautilus.sgml:
	update the sgml files.

2000-10-31  Robin * Slomkowski  <rslomkow@eazel.com>

	* src/nautilus-window.c: set the url to fix 4015
	but it does not Nautilus attempts to connect to the
	wrong URL. http://www.eazel.com/websearch instead of
	http://services.eazel.com/websearch

2000-10-31  Mathieu Lacage  <mathieu@eazel.com>

	add new directories.
	* applets/.cvsignore:
	* applets/launcher/.cvsignore:	
	* applets/Makefile.am:
	* applets/launcher/Makefile.am:

	stupid applet which is used during installation
	to display a nautilus icon on the user's panel.
	* applets/launcher/nautilus-icon-applet.c:
	(applet_change_pixel_size), (main):

	add checks for the libapplet library.
	* configure.in:

2000-10-31  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	Fix bug 3729.  Bump the version number to 0.5.0.
	
2000-10-31  Ali Abdin  <aliabdin@aucegypt.edu>

        * components/help/converters/gnome-db2html2/gdb3html.c:
        (parse_file): Try to correct a problem jfleck was having.

        * libnautilus-extensions/nautilus-file-utilities.c:
        (nautilus_uri_is_local_scheme): Add 'gnome-help' to the list

2000-10-31  Darin Adler  <darin@eazel.com>

	* nautilus.spec.in: Removed vendor again. Putting these in cvs
	is a bad idea. For more details see bug 3461.

2000-10-31  Darin Adler  <darin@eazel.com>

	* nautilus.spec.in: Add vendor.

2000-10-31  Darin Adler  <darin@eazel.com>

	Fixed bug 4242 (Tree view crash trying to navigate to parent uri
	(Up)) and bug 4297 (Opening a window twice causes Nautilus to
	crash).
	
	* components/tree/nautilus-tree-model.c:
	(nautilus_tree_model_destroy): Disconnect the root_node_changed
	signal.

2000-10-31  J Shane Culpepper  <pepper@eazel.com>

	* components/services/login/nautilus-view/nautilus-change-password-
	view.c: (generate_change_password_form):

	Fixing buttons in the change password view to not use nautilus_label
	and pointing to the right help place.

2000-10-31  Brian Frank  <bfrank@eazel.com>

	* data/static_bookmarks.xml
	Fixed capitalization problem of VMware name in bookmark list
	
2000-10-31  Mathieu Lacage  <mathieu@eazel.com>

	* configure.in: fix some configure magic for libfreetype2.

2000-10-31  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-first-time-druid.c: (druid_finished):
	changed the services uris that are hard-coded into the wizard to
	ones specified by Laura; they are not in place yet but she
	assures me that they will be soon.
	
2000-10-31  Darin Adler  <darin@eazel.com>

	Fixed bug 4144 (Extra Services menu items installed by Summary
	view never go away). The problem was actually with the factory
	code from the sample. I had fixed it a while back, but not before
	people cloned the broken sample code.
	
	* components/adapter/nautilus-adapter-factory-server.c:
	(impl_Nautilus_ComponentAdapterFactory_create_adapter):
	* components/hardware/main.c: (hardware_view_make_object):
	* components/music/main.c: (music_view_make_object):
	* components/rpmview/main.c: (rpm_view_make_object):
	* components/services/install/nautilus-view/main.c:
	(service_install_make_object):
	* components/services/inventory/nautilus-view/main.c:
	(inventory_make_object):
	* components/services/login/nautilus-view/main.c:
	(change_password_make_object):
	* components/services/summary/nautilus-view/main.c:
	(summary_make_object):
	* components/tree/libmain.c: (tree_shlib_make_object):
	* components/tree/main.c: (tree_exe_make_object):
	Connect the destroy handler to the NautilusView object rather than
	to the widget. If you connect to the widget, the handler gets
	called too early and the control doesn't get properly destroyed,
	leaving the UI component behind, and causing the bug.

	* components/adapter/main.c: (adapter_factory_make_object): Got
	rid of incorrect comment.
	
2000-10-31  J Shane Culpepper  <pepper@eazel.com>
	
	Fixing one more.

2000-10-31  J Shane Culpepper  <pepper@eazel.com>

	* libnautilus-extensions/nautilus-mime-actions.h:
	* src/nautilus-applicable-views.c:
	(nautilus_navigation_info_get_location),
	(nautilus_navigation_info_get_initial_content_id):

	missed a file

2000-10-31  J Shane Culpepper  <pepper@eazel.com>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_actions_check_if_required_attributes_ready),
	(nautilus_mime_actions_get_required_file_attributes),
	(nautilus_mime_actions_wait_for_required_file_attributes),
	(nautilus_mime_get_default_action_type_for_file),
	(nautilus_mime_get_default_action_for_file),
	(nautilus_mime_get_default_application_for_file_internal),
	(nautilus_mime_get_default_application_for_file),
	(nautilus_mime_is_default_application_for_file_user_chosen),
	(nautilus_mime_get_default_component_for_file_internal),
	(nautilus_mime_get_short_list_applications_for_file),
	(nautilus_mime_get_short_list_components_for_file),
	(nautilus_mime_get_short_list_methods_for_file),
	(nautilus_mime_get_all_applications_for_file),
	(nautilus_mime_get_all_components_for_file),
	(nautilus_mime_set_default_application_for_file),
	(nautilus_mime_set_default_component_for_file),
	(nautilus_mime_set_short_list_applications_for_file),
	(nautilus_mime_set_short_list_components_for_file),
	(nautilus_mime_add_application_to_short_list_for_file),
	(nautilus_mime_remove_application_from_short_list_for_file),
	(nautilus_mime_add_component_to_short_list_for_file),
	(nautilus_mime_remove_component_from_short_list_for_file),
	(nautilus_mime_extend_all_applications_for_file),
	(nautilus_mime_remove_from_all_applications_for_file),
	(nautilus_do_component_query):
	* libnautilus-extensions/nautilus-program-chooser.c:
	(repopulate_program_list), (is_component_default_for_file),
	(program_file_pair_is_default_for_file),
	(program_file_pair_is_in_short_list_for_file),
	(add_to_short_list_for_file), (remove_from_short_list_for_file),
	(remove_default_for_item), (set_default_for_item):
	* libnautilus-extensions/nautilus-program-choosing.c:
	(any_programs_available_for_file):
	* src/file-manager/fm-directory-view.c: (switch_location_and_view),
	(create_open_with_gtk_menu), (reset_bonobo_open_with_menu),
	(activate_callback):
	* src/nautilus-window.c: (nautilus_window_load_content_view_menu):
	* test/test-nautilus-mime-actions-set.c: (main):
	* test/test-nautilus-mime-actions.c: (main):

	backing out changes that caused a serious regression in services.

2000-10-31  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/rpmview/nautilus-rpm-view-install.c:
	(nautilus_rpm_view_install_package_callback):
	Hopefully fixed the completely fatal tmp_dir bug in the 
	package view.

	* components/services/install/lib/eazel-install-logic.c:
	(eazel_install_pre_install_packages):
	Ifdeffed some borked code

	* components/services/install/lib/eazel-install-problem.c:
	(get_detailed_messages_foreach):
	If no messages generated on modification status. Potientially
	completely incorrect unless I check prev_pack->status first.

	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (dig_up_errors), (nautilus_service_install_failed):
	Use eazel-install-problem to generate error messages

	* nautilus.spec.in:
	Woops, eazel/throbber is not there..

2000-10-30  Eskil Heyn Olsen  <eskil@eazel.com>

	* nautilus.spec.in:
	Added some of the themes stuff to %files.

2000-10-30  Andy Hertzfeld  <andy@eazel.com>

	made thumbnailing work remotely for all images, by treating
	small remote files like large ones and keeping a local thumbnail
	for them.
	
	* libnautilus-extensions/nautilus-icon-factory-private.h:
	moved SELF_THUMBNAIL_SIZE_THRESHOLD constant into private,
	so it could be shared with nautilus-thumbnails.
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_for_file):
	if a file is remote, make a thumbnail even if it's smaller
	than the size threshold.
	* libnautilus-extensions/nautilus-thumbnails.c: (make_thumbnails):
	don't use a frame for files smaller than the size threshold.
	
2000-10-30  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-logic.c:
	(dump_one_package):
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_copy):

	Show provides-list when dumping packages for debug.  Copy
	provides-list when doing a deep copy of the package data.
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_category):

	Clean up leading/trailing linefeeds on category descriptions.
	
	* components/services/install/server/main.c: (main):
	* components/services/trilobite/libtrilobite/trilobite-core-utils.c
	: (trilobite_add_log), (trilobite_init),
	(trilobite_set_debug_mode):
	* components/services/trilobite/libtrilobite/trilobite-core-utils.h
	:

	Use ~/.nautilus/trilobite-install.log for logging install debug
	messages, and not a file in /tmp.  Timestamp those logs.
	
	* nautilus-installer/src/installer.c: (create_install_page),
	(eazel_download_progress), (get_required_name),
	(get_detailed_errors_foreach), (install_done),
	(eazel_installer_add_category), (find_old_tmpdir),
	(eazel_installer_initialize):

	Make category list display slightly differently when there's only
	one category (which is how PR2 will be): avoid showing the
	checkbox, etc.  If there's a suitable /tmp directory leftover from
	a previous install attempt, reuse it instead of creating a new
	one.

	* nautilus-installer/src/link.sh:

	Fix missing quotes in XFree checking.
	
2000-10-30  Eskil Heyn Olsen  <eskil@eazel.com>

	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/link.sh:
	link.sh does vague attempt at checking XFree version. Partial fix
	for 4159.

2000-10-30  Maciej Stachowiak  <mjs@eazel.com>

	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_actions_check_if_minimum_attributes_ready),
	(nautilus_mime_actions_check_if_full_attributes_ready),
	(nautilus_mime_actions_get_minimum_file_attributes),
	(nautilus_mime_actions_get_full_file_attributes),
	(nautilus_mime_actions_wait_for_full_file_attributes),
	(nautilus_mime_get_default_action_type_for_file),
	(nautilus_mime_get_default_action_for_file),
	(nautilus_mime_get_default_application_for_file_internal),
	(nautilus_mime_get_default_application_for_file),
	(nautilus_mime_is_default_application_for_file_user_chosen),
	(nautilus_mime_get_default_component_sort_conditions),
	(nautilus_mime_get_default_component_for_file_internal),
	(nautilus_mime_get_short_list_applications_for_file),
	(nautilus_mime_get_short_list_components_for_file),
	(nautilus_mime_get_short_list_methods_for_file),
	(nautilus_mime_get_all_applications_for_file),
	(nautilus_mime_get_all_components_for_file),
	(nautilus_mime_set_default_application_for_file),
	(nautilus_mime_set_default_component_for_file),
	(nautilus_mime_set_short_list_applications_for_file),
	(nautilus_mime_set_short_list_components_for_file),
	(nautilus_mime_add_application_to_short_list_for_file),
	(nautilus_mime_remove_application_from_short_list_for_file),
	(nautilus_mime_add_component_to_short_list_for_file),
	(nautilus_mime_remove_component_from_short_list_for_file),
	(nautilus_mime_extend_all_applications_for_file),
	(nautilus_mime_remove_from_all_applications_for_file),
	(nautilus_do_component_query): 
	* libnautilus-extensions/nautilus-mime-actions.h:
	* libnautilus-extensions/nautilus-program-chooser.c:
	(repopulate_program_list), (is_component_default_for_file),
	(program_file_pair_is_default_for_file),
	(program_file_pair_is_in_short_list_for_file),
	(add_to_short_list_for_file), (remove_from_short_list_for_file),
	(remove_default_for_item), (set_default_for_item):
	* libnautilus-extensions/nautilus-program-choosing.c:
	(any_programs_available_for_file):
	* src/file-manager/fm-directory-view.c: (switch_location_and_view),
	(create_open_with_gtk_menu), (reset_bonobo_open_with_menu),
	(activate_callback):
	* src/nautilus-applicable-views.c: (nautilus_navigation_info_new):
	* src/nautilus-sidebar.c: (nautilus_sidebar_update_all),
	(nautilus_sidebar_set_uri):
	* src/nautilus-window.c: (nautilus_window_load_content_view_menu):
	* test/test-nautilus-mime-actions-set.c: (main):
	* test/test-nautilus-mime-actions.c: (main): Portions of the fix
	for 2379 (the parts that don't make it crash).

2000-10-30  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_middle_new):
	Separate the left and right text offsets.  Tweak them some more.
	
2000-10-30  Ramiro Estrugo  <ramiro@eazel.com>

	* nautilus-clean.sh:
	Add trilobite-eazel-install-service to list of processes to kill.
	Also alphabetize the list.
	
2000-10-30  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-thumbnails.c:
	(make_thumbnail_path):
	fixed bug 4190, problem thumbnailing icons in vault, by adding
	a test to make sure it tries to keep the thumbnails for remote
	files locally.
	
2000-10-30  Ramiro Estrugo  <ramiro@eazel.com>

	* icons/nautilus-launch-icon.png:
	* nautilus.png:

	I removed these from Makefiles, but forgot to take them out of
	CVS.
	
2000-10-30  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/command-line/eazel-alt-install-corba.
	c: (done), (main):
	Fixed 4203
	
	* components/services/install/lib/eazel-install-corba-types.c:
	(corba_string_sequence_to_glist),
	(corba_packagedatastruct_from_packagedata):
	Changed because I added debug and removed it again...
	
	* components/services/install/lib/eazel-install-logic.c:
	(eazel_install_pre_install_packages),
	(eazel_install_download_packages),
	(eazel_install_check_existing_packages),
	(eazel_install_fetch_dependencies):
	Made a set of enums for check_for_existing_packages since it no
	longer really acts as a *cmp function (has four result values
	rather then 3)
	* components/services/install/lib/eazel-install-logic.h:
	Also renamed the status enum for the main functions

	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_install_packages),
	(eazel_install_uninstall_packages),
	(eazel_install_revert_transaction_from_xmlstring):
	Also renamed the status enum for the main functions (in
	logic.[ch])
	
	* components/services/install/lib/eazel-install-problem.c:
	(get_detailed_messages_foreach),
	(eazel_install_problem_case_to_string),
	Moved get_required_name into -types.c (as
	packagedata_get_readable_name), so everyone gets the benefit of
	it.
	(eazel_install_problem_handle_cases):
	Now also sets the downgrade flag in handle cases.
	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_rpm_set_settings),
	No longer always set rpm debub
	(eazel_install_start_transaction_make_rpm_argument_list):
	Don't set --oldpackage on -e.
	
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_get_readable_name):
	Moved here from -problem.c(get_required_name)
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (eazel_install_packagedata_to_xml):
	Now also put provides into xml. This was needed for the menu path
	info fix that Bart asked for. Unfortunately this means huge
	transaction files, need to put in a boolean or such.
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.h:
	Added list containing all .*\.desktop$ or .*\.kdelnk$ files that
	where installed.	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (nautilus_service_install_dependency_check),
	Print nicer dep check strings (using packagedata_get_readable_name)
	(nautilus_service_install_check_for_desktop_files),
	In preflight, find any .*\.desktop$  or .*\.kdelnk$ files.
	(nautilus_service_install_preflight_check),
	call check_for_desktop_files only on toplevel packages
	(nautilus_service_install_installing),
	Moved the dialog box for nautilus updates down to done.
	(nautilus_install_service_locate_menu_entries),
	Locates where the menu entries went
	(nautilus_service_install_done):
	Pop up the dialog if nautilus was updated, also generate message
	reg. where menu entries went. Fixes 3431
	
	* nautilus-installer/src/installer.c: (jump_to_retry_page),
	(get_detailed_errors_foreach), (eazel_install_dep_check):
	Used packagedata_get_readable_name instead of get_requried_name.
	
2000-10-30  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/mozilla-preferences.cpp:
	* components/mozilla/mozilla-preferences.h:
	* components/mozilla/nautilus-mozilla-content-view.c:
	(nautilus_mozilla_content_view_initialize),
	(nautilus_mozilla_content_view_destroy),
	(eazel_services_scheme_translate),
	(test_make_full_uri_from_relative),
	(mozilla_content_view_one_time_happenings):
	Fix bug 4112 - Mozilla component does not listen for proxy
	configuration changes.

	Move all the gconf and proxy related things to
	mozilla-preferences.cpp, makes the main view implementation a
	little less convoluted.

	Add gconf notifications for changes in the proxy and route these
	changes to the mozilla universe.

	Also some minor style changes.

2000-10-30  Darin Adler  <darin@eazel.com>

	Fix bug 4202 (rename a file to an existing file will crash
	Nautilus).
	
	* libnautilus-extensions/nautilus-file.c: (rename_callback): Mark
	the overwritten file as "gone" if we succeed in renaming to an
	existing file's name. Either the module overwrote the file or the
	file was deleted "under Nautilus's nose" -- in either case it is
	gone.
	(nautilus_file_update_name): Fix comment.

2000-10-30  Andy Hertzfeld  <andy@eazel.com>

	* src/nautilus-sidebar-title.c: (update_icon):
	added "eazel-services:" and "man:" to the schemes with custom
	sidebar icons via the recently implemented hack (which will be
	replaced by a real framework after PR2).
	
	* icons/Makefile.am:
	* icons/manual.png:
	added icon for man: scheme

2000-10-30  Andy Hertzfeld  <andy@eazel.com>

	cleaned up the sidebar for the summary view by putting in a
	temporary hack to get the right icon and giving the view
	a shorter title.
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (summary_load_location_callback):
	changed the summary view's title to "Eazel Services" so it fits
	better in the sidebar.
	
	* src/nautilus-sidebar-title.c: (update_icon):
	added a hack to special-case the "eazel:" uri to get the appropriate
	icon; we'll remove this after PR2 and replace it with a real
	framework.
	
2000-10-30  Darin Adler  <darin@eazel.com>

	* icons/Makefile.am: Removed gnome-core.png again.

2000-10-30  Josh Barrow  <josh@eazel.com

	* icons/gnome-core.png: 
	Removed

	* icons/i-core.png:
	Made this be the old gnome-core icon, per Arlo's suggestion.

2000-10-30  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 4166, "New Folder" offset problem.

	Also reverted Enter to activate selected items instead of
	entering renaming mode.

	* libnautilus-extensions/nautilus-icon-container.c: 
	(relayout):
	Call nautilus_icon_container_update_scroll_region before
	processing pending reveal and rename actions.

	(key_press_event):
	Enter keypress activates selected items
	
2000-10-30  Robey Pointer  <robey@eazel.com>

	* nautilus-installer/src/proxy.c: (load_nscp_proxy_settings),
	(load_galeon_proxy_settings), (attempt_http_proxy_autoconfigure):

	Try to find proxy settings via Galeon too.

2000-10-30  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):

	Fixing the box packing on the news widget.  Still not optimal but
	looks a little better than it did.  Will continue tweaking it until
	it is acceptable.

2000-10-30  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.c:
	(file_opened_callback), (file_read_callback), (load_done):
	
	Fixed nautilus_gdk_pixbuf_load_async bug that would cause
	it to fail loading xpm files. (bug 4140)

2000-10-30  Rebecca Schulman  <rebecka@eazel.com>
	Fixed bug 4176, that files remaining to be
	copied goes up instead of down.  The short
	fix for this was just to change the wording to
	reflect what was actually being counted.

	* libnautilus-extensions/nautilus-file-operations.c:
	(progress_dialog_set_files_done_text), (handle_xfer_ok):
	changed "Files remaining to be [copied, moved,...]" to
	"Files [copied, moved,...]"

2000-10-30  Darin Adler  <darin@eazel.com>

	Fixed bug 4057 (clicking the back button while opening a huge
	directory often crashes).
	
	* libnautilus-extensions/nautilus-icon-container.c:
	(nautilus_icon_container_for_each): The function was iterating
	some icons twice. All the icons on the new_icons list are also on
	the icons list.
	(icon_destroy): Also be sure to remove the icon from the new_icons
	list if it happens to be destroyed while still on that list.

	* configure.in:
	* Makefile.shared:
	Got rid of the shared part of the code to generate .xml.h
	files. It's no longer needed since the po directory takes care of
	everything itself.
	
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* libnautilus/Makefile.am:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	Got rid of the per-directory part of the code to generate .xml.h
	files.
	
	* components/loser/content/nautilus-content-loser-ui.xml.h:
	* components/loser/sidebar/nautilus-sidebar-loser-ui.xml.h:
	* components/mozilla/nautilus-mozilla-ui.xml.h:
	* components/sample/nautilus-sample-content-view-ui.xml.h:
	* components/services/summary/nautilus-view/nautilus-summary-view-ui.xml.h:
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-service-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:
	Got rid of the checked-in copies of the .xml.h files. The worst
	part!

2000-10-30  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (forgot_password_button_cb):

	Fixing Bug #4178.  The Help button was not working right.

2000-10-29  John Sullivan  <sullivan@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_login_dialog): Change "Please login to eazel services"
	to "Please log in to Eazel services", in two places.

2000-10-30  Rebecca Schulman  <rebecka@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (summary_load_location_callback):
	Add setting of window and sidebar title to the summary view
	to "Eazel Services Summary".  I'm not necessarily attached to the wording
	but we should definitely make it something other than "eazel".
	this fixes a bug I filed, #4183

2000-10-30  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/helper/eazel-helper.pam:

	Yeah!  Found out how to let eazel-helper run even if root has
	no password set.  Add "nullok" to the pwdb line in the pam
	config file.

2000-10-30  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_make_uri_canonical),
	(nautilus_self_check_file_utilities):
	nautilus_make_uri_canonical was relying on GnomeVFSURI sort-of
	handling relative uris, even though they are illegal in GnomeVFS.
	My earlier fix in gnome-vfs "broke" some of this broken behavior. 
	Added more special-case handling of cryptic absolute to 
	nautilus_make_uri_canonical to make it behave like before and not
	break existing behavior that depends on it. Added some bandaids for
	conversions that are clearly wrong but that may need more work 
	throughout the code that depends on it, for now I'm making it
	behave like the old call.
	My earlier fix to gnome-vfs fixes 2803. Change the test to reflect 
	the correct behavior.

2000-10-30  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/helper/README:
	* components/services/trilobite/helper/eazel-helper.security.in:

	Set fallback (in pam and usermode) to false: always needs to run
	as root.

2000-10-30  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_eazel_news_entry_row):
	disabled the "use all the space" since it causes too much flashing
	during size negotiation.  I'll either fix the flashing or remove
	it from nautilus_label soon.
	
2000-10-29  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-label.c:
	(nautilus_label_initialize_class), (nautilus_label_size_allocate),
	(get_clipped_width), (label_recompute_line_geometries):
	made nautilus_label interpret a wrap width of -1 to mean "use
	all of the available space".
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_service_entry_row), (generate_eazel_news_entry_row),
	(generate_update_news_entry_row):
	made the news items use all of the available space by setting its
	wrap width to -1.
	
2000-10-29  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_eazel_news_entry_row),
	(authn_cb_succeeded), (authn_cb_failed):
	improved formatting of news items, now that we finally have a long
	one.  Also, removed some unconditional debugging messages.
	
2000-10-29  Robey Pointer  <robey@eazel.com>

	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-callback.c:
	(eazel_install_callback_delete_files):
	* components/services/install/lib/eazel-install-corba-callback.h:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_delete_files), (eazel_install_get_epv):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_class_initialize), (create_temporary_directory),
	(eazel_install_delete_downloads), (eazel_install_install_packages),
	(eazel_install_revert_transaction_from_xmlstring),
	(eazel_install_emit_dependency_check_default):
	* components/services/install/lib/eazel-install-public.h:

	Change delete_files from a signal to an explicit API call.  Also
	be sure to erase the temp dir even if it has no files in it.
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (nautilus_service_install_done),
	(nautilus_service_install_failed),
	(nautilus_service_install_view_update_from_uri):
	* components/services/install/server/Makefile.am:

	Make the install view use the new explicit delete_files call, and
	condense those into a single dialog box.

	* nautilus-installer/src/callbacks.c: (begin_install),
	(druid_finish):
	* nautilus-installer/src/installer.c: (install_done),
	(eazel_installer_do_install), (eazel_installer_initialize):
	* nautilus-installer/src/installer.h:

	Fix the bootstrap installer for the delete_files call, and don't
	forget to delete the package list too.  Also, set forced-downgrade
	to TRUE until a post-PR2 bug is fixed.
	
2000-10-29  Mike Fleming  <mfleming@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: switch authority-less eazel-services URL's 
	from "eazel-services:/" to "eazel-services:///"  

	* src/nautilus-window-service-ui.c: (goto_online_storage),
	(goto_software_catalog), (detach_service_ui),
	(nautilus_window_install_service_ui):

	Go back to initing ammonite each time these menus are called.  
	I didn't want to bother with trying to make it work.


2000-10-29  J Shane Culpepper  <pepper@eazel.com>

	* components/loser/content/nautilus-content-loser-ui.xml.h:
	* components/loser/sidebar/nautilus-sidebar-loser-ui.xml.h:
	* components/mozilla/nautilus-mozilla-ui.xml.h:
	* components/sample/nautilus-sample-content-view-ui.xml.h:
	* components/services/summary/nautilus-view/nautilus-summary-view-u
	i.xml.h:
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-service-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:
	* src/nautilus-shell.c: (display_caveat):

	Fixing bad spelling in caveat.

2000-10-29  Robey Pointer  <robey@eazel.com>

	* components/services/install/server/Makefile.am:

	Move RPMLIBS even *earlier* in the Makefile -- way back!  Seems to
	need to be the very first thing or else tons of libs get better
	precedence.

2000-10-29  Mike Fleming  <mfleming@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (nautilus_summary_view_load_uri),
	(merge_bonobo_menu_items):
	* src/nautilus-window-service-ui.c: (goto_online_storage),
	(goto_software_catalog), (detach_service_ui),
	(nautilus_window_install_service_ui):

	Change uses of "am_i_logged_in" and "who_is_logged_in" to 
	"ammonite_get_default_user_username"  Fix misc bugs/memory leaks.

2000-10-29  Arlo Rose  <arlo@eazel.com>

	* icons/temp-home.png:
	Added some extra stuff to the house to make it look better.

2000-10-28  Arlo Rose  <arlo@eazel.com>

	* icons/temp-home.png:
	Did a new home icon for PR2 that isn't my happy sunflower.

2000-10-28  Arlo Rose  <arlo@eazel.com>

	* icons/arlo/Makefile.am:
	* icons/arlo/i-regular.png:
	* icons/arlo/i-regular72.png:
	* icons/arlo/i-regular96.png:
	* icons/arlo/i-regular192.png:
	Fixed non-AA i-regular* icons to look the same as the AA versions.

2000-10-28  Robey Pointer  <robey@eazel.com>

	* components/services/install/server/Makefile.am:

	Move RPMLIBS earlier in the Makefile, to try to force the
	sleipnir build to use the right version of libdb.

2000-10-28  Ramiro Estrugo  <ramiro@eazel.com>

	* Makefile.am:
	* icons/Makefile.am:
	* nautilus-launch-icon.png:
	Fix bug 4155.  Nautilus Panel launching icon installed in the
	wrong place.  Needs to be $prefix/share/pixmaps, not
	$prefix/share/pixmaps/nautilus.

	Also added more ChangeLog files to EXTRA_DIST so they can be
	availalble in tarballs.
	
2000-10-28  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_login_dialog):
	* src/nautilus-service-ui.xml.h:
	* src/nautilus-shell.c: (display_caveat):

	Fixes for Bug #4104 and Bug# 4134. Changed error text to be more
	descriptive about account activation and added new wording for 
	caveat dialog.

2000-10-28  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/server/Makefile.am:
	Undoh rpm stuff

2000-10-28  Josh Barrow  <josh@eazel.com>

	* nautilus-clean.sh:
	Added mpg123 to the list of things to kill.  This finishes
	bug 4076.

2000-10-28  Josh Barrow  <josh@eazel.com>

	* nautilus-clean.sh:
	Changed to clean more things.

	* README
	Changed to reflect actual requirements.

	I actually checked these in a while ago, just neglected to
	check in the ChangeLog

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* configure.in:
	Doh doh doh

2000-10-27  Ramiro Estrugo  <ramiro@eazel.com>

	* src/Makefile.am:
	Dumshit me, I forgot to take out the file I retired from the
	makefile.
	
2000-10-27  Ramiro Estrugo  <ramiro@eazel.com>

	Fix bug 4054 - fix nautilus GNOME menu item so it does not
	"crash" nautilus.

	Fix bug 4117 - change default for PR2 back to desktop off.

	Also fix the issue about turning off the gnome crash dialog for
	out of process components.
	
	* icons/Makefile.am:
	* icons/nautilus-launch-icon.png:
	New launch icon from Arlo.

	* src/run-nautilus:
	Change this beast to not always run nautilus-clean.sh.  It only
	runs nautilus-clean.sh right before/after running Nautilus and not
	for every single invocation of 'run-nautilus'.  

	Also, dont start the desktop anymore, since there is not a
	preference in Nautilus to toggle the desktop.

	Finally, turn on the environment variable needed to prevent the
	gnome crash dialog from showing up for out of process components.
	
	* nautilus.desktop:
	Update icon and launch script back to run-nautilus.

	* nautilus.spec.in:
	We're back to using run-nautilus.
	
	* src/launch-nautilus:
	Retire.

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/server/Makefile.am:
	Moved RPM_LIBS to top to ensure the right db is used.
	
2000-10-27  J Shane Culpepper  <pepper@eazel.com>

	* src/nautilus-window-service-ui.c: (goto_online_storage):

	Fixing Bug # 4097.  Should now point to correct place.

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_rpm_set_settings):
	Output which rpmrc file I read.
	* configure.in:
	Attempt at fixing the install view breaking on rpm builds and not
	eazel-hacking builds.

2000-10-27  John Sullivan  <sullivan@eazel.com>

	Fixed bug 4087 (crash leaving Summary view)

	* components/services/summary/nautilus-view/nautilus-summary-view.c: 
	(nautilus_summary_view_destroy): Don't unset container and unref
	component here; that's not necessary for the component that's
	created automagically. And doing so causes a double-destroy.
	(update_menu_items), (merge_bonobo_menu_items): Removed 
	ui_component field from details and changed callers to get the
	ui_component elsewise when needed (to clarify that it isn't
	owned here).
	* src/nautilus-service-ui.xml: Changed "Eazel Services" to
	"Eazel Services Home" since all the services are Eazel Services.
	* src/nautilus-service-ui.xml.h: gotta check this in too.

2000-10-27  Andy Hertzfeld  <andy@eazel.com>

	at Bud's request, implemented bug 4127, add a preference to
	show or hide Nautilus' desktop.
		
	* libnautilus-extensions/nautilus-global-preferences.h:
	define NAUTILUS_PREFERENCES_SHOW_DESKTOP
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog), (global_preferences_register):
	register the desktop preference and show the checkbox in
	the appearance section of preferences
	* src/nautilus-application.c: (nautilus_application_initialize),
	(nautilus_application_destroy), (check_for_and_run_as_super_user),
	(desktop_changed_callback):
	watch the desktop preference and show or hide the desktop window
	when it changes.
	* src/nautilus-main.c: (main):
	show the desktop at launch if the preference is set and it's not
	overriden by command-line options.
	
2000-10-27  Darin Adler  <darin@eazel.com>

	Fixed bugs in file renaming. These changes along with the
	gnome-vfs ones take care of bug 3846 (cancel dialog persists after
	renaming online storage folder).

	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_get_gnome_vfs_uri): Moved higher so it could be
	used by rename code.
	(operation_remove): Separated out the remove operation so we can
	remove the operation before the callback. This makes it safe to
	do a nautlius_file_cancel from inside a callback.
	(operation_free): Call the separate remove. Also cut down because
	we don't need so much state in the operation object any more.
	(operation_complete): Call remove before calling callback as
	described above.
	(rename_callback): A new callback that uses set_file_info results
	instead of the old one that used xfer.
	(nautilus_file_rename): Change to use set_file_info instead of
	xfer. Also updates the MIME type now, which will fix a bug I
	think.
	(nautilus_file_update_info): Use gnome_vfs_file_info_dup instead
	of gnome_vfs_file_info_ref so it works with any info, including
	static ones on the stack.
	(set_permissions_callback), (nautilus_file_set_permissions),
	(set_owner_and_group_callback), (set_owner_and_group): Change to
	use the info returned by the async. set_file_info. This simplifies
	things a lot.
	
	* src/file-manager/fm-error-reporting.c: (rename_callback),
	(cancel_rename_callback), (cancel_rename), (fm_rename_file):
	Rewrote renaming code. Use object data to keep track of pending
	renames so we can cancel a previous one if we try to re-rename the
	same file again. This allowed the code to get a lot simpler too.
	
	* libnautilus-extensions/nautilus-directory-async.c:
	(directory_load_done): Fixed bug that prevented the directory from
	ever noticing files that are no longer around. This code never
	worked because we checked for the wrong error code (EOF means
	success here).
	
	* po/Makefile.in.in: Re-removed this file. Seth checked it in by
	accident. This is a generated file, not one that should be checked
	in.
	
	* src/nautilus-window.c: (nautilus_window_realize): Got rid of
	"//"-style comments and used #if 0 instead.

	* components/loser/content/nautilus-content-loser-ui.xml.h:
	* components/loser/sidebar/nautilus-sidebar-loser-ui.xml.h:
	* components/mozilla/nautilus-mozilla-ui.xml.h:
	* components/sample/nautilus-sample-content-view-ui.xml.h:
	* components/services/summary/nautilus-view/nautilus-summary-view-ui.xml.h:
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-service-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:
	Someone checked in some .xml.h files generated with an old
	Bonobo. Soon, this nightmare will be over and we won't check these
	files in any more.
	
2000-10-27  Arlo Rose  <arlo@eazel.com>

	* src/nautilus-first-time-druid.c: (make_anti_aliased_label):
	Made a font size change.

2000-10-28  Mathieu Lacage  <mathieu@eazel.com>

	second round of fixing of the sgml. Will be 
	the last one hopefuly.
	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:
	* user-guide/C/sgml/install.sgml:
	* user-guide/C/sgml/intro.sgml:

2000-10-27  Mathieu Lacage  <mathieu@eazel.com>

	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:
	* user-guide/C/sgml/install.sgml:
	* user-guide/C/sgml/intro.sgml:
	* user-guide/C/sgml/nautilus.sgml:
	update to John's latest version, fix the sgml where needed.
	Need a new round of checking on my laptop. Help now displays 
	images !! hooray for Ali Abdin :)

2000-10-27  Robin * Slomkowski  <rslomkow@eazel.com>

	* README: package build requirments changed to be current
	left hole3s for gnome-vfs, ammonite, and medusa

2000-10-27  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_eazel_news_entry_row),
	(generate_login_dialog):
	finished bug 3793 for Shane, new login dialog for summary view, by
	changing the widget layout to satisfy Arlo.  Also marked more
	strings for translation.
	
2000-10-27  Arlo Rose  <arlo@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-exte
	nsions.h:
	Tweaked text offests.

2000-10-27  John Sullivan  <sullivan@eazel.com>

	Grumble grumble canonical grumble uri grumble.

	Josh found another assertion failure involving
	canonical uris. Yay Josh! Boo canonical uri troubles!
	
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_get_internal): Removed call to
	nautilus_uri_is_canonical_uri since it isn't quite the
	right check. Decided that the right check here is
	pointless.
	* libnautilus-extensions/nautilus-file-utilities.c:
	* libnautilus-extensions/nautilus-file-utilities.h:
	Removed nautilus_uri_is_canonical_uri since it now has
	no callers.

2000-10-27  John Sullivan  <sullivan@eazel.com>

	Fixed bug 4085 for now (need Support menu item in Services menu)

	The URL will have to be updated again later, as the bug report says.

	* src/nautilus-service-ui.xml: Added Support menu item at end, made
	underline accelerators unique
	* components/services/summary/nautilus-view/nautilus-summary-view-u
	i.xml: tweaked wording and made underline accelerators unique

	* components/services/summary/nautilus-view/nautilus-summary-view-u
	i.xml.h:
	* src/nautilus-service-ui.xml.h: These guys changed.

	* src/nautilus-window-service-ui.c: 
	(goto_services_support): New function, goes to magic URI.
	(nautilus_window_install_service_ui): add verb to connect menu item
	to function.

2000-10-27  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (forgot_password_button_cb):

	Fixing the url for the change password button.

2000-10-27  John Sullivan  <sullivan@eazel.com>

	Fixed bug 4114 (typing single word into location bar crashes)

	Grumble grumble canonical grumble uri grumble.

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_make_uri_canonical): Return of the workaround to
	convert file://foo to file:///foo, marked with appropriate
	FIXME.
	(nautilus_uri_is_canonical_uri): Changed implementation to just
	call make_uri_canonical and compare. It had been doing a subset
	of the things that make_uri_canonical does, but it had gotten out
	of synch.
	(nautilus_self_check_file_utilities): Updated tests and added more.

2000-10-27  Ali Abdin  <aliabdin@aucegypt.edu>

        * components/help/converters/gnome-db2html2/gdb3html.[ch]:
        Added a 'base_path' to the Context struct
        (parse_file): Do some minimal parsing to get the base path from the
        provided filename on the command line.

        * components/help/converters/gnome-db2html2/sect-elements.c:
        * components/help/converters/gnome-db2html2/toc-elements.c:
        (sect_figure_end_element),
        (sect_inlinegraphic_start_element),
        (sect_infobox_start_element),
        (toc_artheader_end_element):
        Use 'file://' URIs on images (using base_path to get the path of the
        image). This means images should now work within SGML files. Should
        fix bug #3938

2000-10-27  Ramiro Estrugo  <ramiro@eazel.com>

	Final bits of arlification for the install view.  Make the fonts
	smaller and use a better fill icon.

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form):
	* components/services/login/nautilus-view/nautilus-change-password-view.c:
	(generate_change_password_form):
	* components/services/nautilus-dependent-shared/eazel-services-extensions.c:
	(eazel_services_label_new):
	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_item_new), (eazel_services_footer_update):
	Reverse the order of font_size and weight as its usually specified.
	
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_title_new),
	(eazel_services_header_middle_new),
	(eazel_services_header_set_left_text),
	(eazel_services_header_set_right_text):
	* components/services/nautilus-dependent-shared/eazel-services-header.h:
	Split the constructors into 2 for the 2 common header cases.
	
	* components/services/nautilus-dependent-shared/icons/Makefile.am:
	Add a new icon for the middle header fill.
	
	* components/services/nautilus-dependent-shared/test-footer-header.c:
	(main):
	Update for header constructor changes.
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (nautilus_summary_view_load_uri):
	Quiet down the debug spew.


2000-10-27  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-list.c: (nautilus_gdk_gc_copy):
	An attempt to fix a list view redraw glitch Andy and I were trying to 
	track down.

2000-10-27  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_rpm_set_settings):
	Always enable rpm debugging (needed temporarily)

2000-10-27  Andy Hertzfeld  <andy@eazel.com>

	* components/music/nautilus-music-view.c: (add_play_controls):
	left justified the song label in the music view to make it
	look cleaner.
	
2000-10-27  Josh Barrow  <josh@eazel.com>

	* icons/ardmore/Makefile.am:
	* icons/ardmore/theme_preview.png:
	Added theme preview to the Ardmore theme.

	* icons/villanova/Makefile.am:
	* icons/villanova/theme_preview.png:
	Added theme preview to the Villanova theme.

	* nautilus-installer/src/Makefile:
	As Eskil says, "Yes."

2000-10-26  Seth Nickell  <seth@eazel.com>

	* src/nautilus-window.c: (nautilus_window_realize):

	Commented out a wm hints line that was causing Nautilus to be
	unfocusable (hence not allowing keyboard input, making it
	hard to work on things) in Sawfish. Coordination with 
	Sawfish/John Harper is probably needed here...

2000-10-26  Eskil Heyn Olsen  <eskil@eazel.com>

	This introduces the problem thingy to libeazelinstall. A set of
	funcs that can create humanreadable descriptions of a installation
	failure, plus repair descriptions and even better, automagically
	execute them. Basically this is all the RepairCase related crap
	from the bootstrap installer.
	
	* components/services/install/command-line/eazel-alt-install-corba.
	c: (tree_helper), (install_failed), (delete_files), (done), (main):
	Use the new problem thingy
	
	* components/services/install/lib/Makefile.am:
	Added the .c and .h file for the problem thingy

	* components/services/install/lib/eazel-install-logic.c:
	(eazel_install_check_existing_packages):
	Loads of debug output in the case that people kept nagging me
	about. If they still don't get that this is a known problem, they
	must be blind.
	
	* components/services/install/lib/eazel-install-problem.h:
	* components/services/install/lib/eazel-install-problem.c:
	(get_required_name), (get_detailed_messages_foreach),
	(compare_problem_case), (add_case), (add_force_install_both_case),
	(add_force_remove_case), (add_remove_case), (add_update_case),
	(get_detailed_cases_foreach),
	(eazel_install_problem_case_to_string),
	(eazel_install_problem_case_foreach_to_string),
	(eazel_install_problem_case_foreach_destroy),
	(eazel_install_problem_case_new),
	(eazel_install_problem_case_destroy),
	(eazel_install_problem_case_list_destroy),
	(eazel_install_problem_new), (eazel_install_problem_finalize),
	(eazel_install_problem_class_initialize),
	(eazel_install_problem_initialize),
	(eazel_install_problem_get_type), (problem_step_foreach_remove),
	(eazel_install_problem_step), (eazel_install_problem_tree_to_case),
	(eazel_install_problem_tree_to_string),
	(eazel_install_problem_cases_to_string),
	(find_dominant_problem_type), (find_problems_of_type),
	(find_dominant_problems), (build_categories_from_problem_list),
	(eazel_install_problem_handle_cases):
	The problem thingy.
	
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_rpm_set_settings),
	(eazel_install_prepare_rpm_system):
	Set rpm debug if debug==TRUE, also fixed a debug message
	reg. cannot open rpm db.
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.h:
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (nautilus_service_install_view_update_from_uri):
	Allocate the problem thingy.
	
	* nautilus-installer/src/Makefile:
	Yes.
	
	* nautilus-installer/src/installer.c: (get_required_name):
	Used the samen get_required_name as the problem thingy
	
	* nautilus-installer/src/prescript:
	Removed the hack that we inserted for bug night.

2000-10-26  Robey Pointer  <robey@eazel.com>

	* components/services/login/nautilus-view/nautilus-change-password-
	view.c: (run_away_timer), (authn_succeeded), (authn_failed):

	Tidy up the password-change view a bit to try to make it more
	stable, and use more of the info from ammonite.  If ammonite
	throws away the current login (which happens whenever the server
	responds oddly), switch back to the summary view to force a
	re-login instead of drifting away.

2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c: (destroy),
	(icon_destroy):
	fixed bug 4108, changing themes in the list view crashes nautilus.
	Fixed by removing the call to preferences_remove_callback from
	icon_destroy and putting it into the widget's destroy method like
	it should have been.  This also could have been hurting performance
	and causing other weird problems.
	
2000-10-26  Arlo Rose  <arlo@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-exte
	nsions.h:
	Fixed a font weight problem.
	
2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>
	
	* components/services/nautilus-dependent-shared/eazel-services-header.h:
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_new),
	(eazel_services_header_set_left_text),
	(eazel_services_header_set_right_text):
	Change the 'constructor' to accept left/right strings a boolean
	that determines whether the logo is visible.
	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form):
	* components/services/login/nautilus-view/nautilus-change-password-view.c:
	(generate_change_password_form):
	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form):
	Update for header changes.  Fixes bug 4099 (Secondary Header broke
	with test changed to the nautilus widget)
	
	* components/services/nautilus-dependent-shared/eazel-services-extensions.c:
	(eazel_services_get_current_date_string):
	Change the date format string.  Using a format of "%e" worked on
	one computer but spewed warnings on another.
	
	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	Tweak the header text offset a bit.
	
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_item_new):
	Fix the last item's right boundary to make this beast be up to the
	most stringent Arlo standards.

	* components/services/nautilus-dependent-shared/test-footer-header.c: (main):
	Add a middle header to test new header features.

	* components/services/nautilus-dependent-shared/shared-service-widgets.c:
	* components/services/nautilus-dependent-shared/shared-service-widgets.h:
	Retire the old way to do middle headers.

2000-10-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_prepare_rpm_system):
	Moved the addition of the opened db into the if clause.
	
	* components/services/time/command-line/Makefile.am:
	Added GNOMELOCALEDIR
	
	* components/services/trilobite/helper/Makefile.am:
	Trickery to make the eazel-helper.security file be build during
	make and not make install, as the latter is Real Bad<tm> as the
	rpm version will point to a nonexisting binary.
	
	* components/services/trilobite/libtrilobite/trilobite-core-distrib
	ution.c: (trilobite_get_distribution):
	Inserted a else to fix the mandrake/redhat issue.
	
2000-10-26  John Sullivan  <sullivan@eazel.com>

	Fixed bug 4064 (Can't get a right-click menu in vault)

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_make_uri_canonical): Changed this to call
	gnome_vfs_uri_new () and gnome_vfs_uri_to_string () so
	we get the same canonicalization behavior as gnome-vfs,
	other than the special Nautilus-specific cases.
	(nautilus_self_check_file_utilities): Added a bunch of
	new checks, including copying & pasting many from
	gnome-vfs.
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_self_check_directory): added a couple of checks.

2000-10-26  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (forgot_password_button_cb), (generate_login_dialog):

	Adding the button toggle between register and i forgot my password
	options in the login dialog.  Still need to tweak the ui before the
	login is finished.

2000-10-26  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c: (relayout),
	(button_press_event), (key_press_event), (get_icon_being_renamed),
	(pending_icon_to_rename_destroy_callback),
	(get_pending_icon_to_rename), (set_pending_icon_to_rename),
	(process_pending_icon_to_rename), (is_renaming_pending),
	(is_renaming),
	(nautilus_icon_container_start_renaming_selected_item),
	(end_renaming_mode):
	* libnautilus-extensions/nautilus-icon-container.h:
	* libnautilus-extensions/nautilus-icon-private.h:
	* src/file-manager/fm-directory-view.c:
	(reveal_newly_added_folder), (new_folder_done):
	Folder renaming now starts when the icon is added rather than
	at some arbitrary timeout after the new folder command is
	issued. Fixed icon container to handle a request to rename an
	unpositioned icon.

2000-10-26  Eskil Heyn Olsen  <eskil@eazel.com>

	* src/Makefile.am:
	Install launch-nautilus, should fix rpmbuilding.

2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):
	changed "additional services" message in summary view as requested
	by marketing.
	
2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.c:
	Fix bug 3845.  When configured to use an HTTP proxy, Mozilla won't
	go through Ammonite.  The fix is to tell the mozilla network
	library to NOT use the proxy to resolve 'localhost'.

2000-10-26  Gene Z. Ragan  <gzr@eazel.com>

	* libnautilus-extensions/nautilus-directory-async.c:
	(dequeue_pending_idle_callback):
	Did some refactoring to stop an assertion in NautilusDirectory
	add_to_hash_table from firing. This involved removing two lists
	of NautilusFiles that we being created and then merged.  Now one
	list is being used and the condition that causes the assertion (duplicate
	files in the hash table) is not being created.
	
	* components/tree/nautilus-tree-model.c:
	(nautilus_tree_model_directory_files_changed_callback):
	Removed the world famous ANOMALY error at the request of Darin.
	
2000-10-26  Robey Pointer  <robey@eazel.com>

	* components/services/login/nautilus-view/nautilus-change-password-
	view.c: (authn_failed):

	Better logging of a failed password change attempt.
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_category):
	* nautilus-installer/src/installer.c: (add_bullet_point_to_vbox),
	(jump_to_error_page), (jump_to_retry_page):

	Factor out the bullet point generation and make it line-wrap
	(using Gtk's unfortunately lame line-wrapping algorithm).  Do
	better debugging on failed package lists.

2000-10-26  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (footer_item_clicked_callback):

	Fixing location callbacks to go to the right place when a user is
	logged in.

2000-10-26  Michael Engber  <engber@eazel.com>

	* src/file-manager/fm-desktop-icon-view.c:
	(quit_nautilus_desktop_menu_item_callback),
	(fm_desktop_icon_view_create_background_context_menu_items):

	Add "Quit Nautilus Desktop" to desktop context menu

2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	Make the font smaller (11 vs 13) as requested by Arlo.	
	
2000-10-26  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (authn_cb_succeeded), (nautilus_summary_view_initialize),
	(nautilus_summary_view_destroy):

	Rolling back gconf evil that seems to be causing the production runs
	of the summary to segfault.

2000-10-26  Rebecca Schulman  <rebecka@eazel.com>
	Fixed the panel menu item to launch the desktop
	and one nautilus window, starting at the user's 
	home directory by default.  To do this, we created
	a new script called launch-nautilus.  Ramiro 
	recommended some changes to run-nautilus that
	I also did.

	* nautilus.desktop:
	Changed run-nautilus to launch-nautilus
	* nautilus.spec.in:
	Changed run-nautilus to launch-nautilus,
	since run-nautilus won't be needed in the
	rpm
	* src/Makefile.am:
	added launch-nautilus to the build
	* src/launch-nautilus:
	* src/run-nautilus:
	removed the mozilla environment 
	LD_LIBRARY_PATH hacks.
	
	* user-guide/C/sgml/chapter-1.sgml:
	Corrected an HTML error.


2000-10-26  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (nautilus_summary_view_load_uri),
	(merge_bonobo_menu_items):
	* src/nautilus-window-service-ui.c: (goto_online_storage),
	(goto_software_catalog):

	Fixing exported function name used from ammonite.

2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	fixed bug 2814, move "built-in bookmarks" checkbox from the
	edit bookmarks window to preferences/navigation.
	
	* libnautilus-extensions/nautilus-global-preferences.c:
	(global_preferences_create_dialog), (global_preferences_register):
	added a checkbox to control the "hide built-in bookmarks" preference
	* libnautilus-extensions/nautilus-global-preferences.h:
	renamed preference path so the built-in bookmarks preference can
	be in the preferences window
	* src/nautilus-bookmarks-window.c: (create_bookmarks_window),
	(repopulate):
	removed the built-in bookmarks checkbox from the edit bookmarks
	window
	
2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	added a new theme from Susan
	
	* configure.in:
	* icons/Makefile.am:
	* icons/villanova/.cvsignore:
	* icons/villanova/Makefile.am:
	* icons/villanova/villanova.xml:
	* icons/villanova/*.png:
	
2000-10-26  Pavel Cisler  <pavel@eazel.com>

	* librsvg/Makefile.am:
	fix the build.
	Checking in for Ramiro.

2000-10-26  Darin Adler  <darin@eazel.com>

	Fix bug 4052 (sidebar file count is not updated as settings are
	changed).
	
	* libnautilus-extensions/nautilus-directory-async.c:
	(dequeue_pending_idle_callback): Add a missing call to
	nautilus_file_changed.

2000-10-26  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_update_news_entry_row),
	(nautilus_summary_view_load_uri):

	Adding debug prints to locate optimized build crash in the summary view.

2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	moved the eazel throbber into the default theme; moved Arlo's throbber
	into his theme and restored the generic throbber to the gnome theme.
	Updated the theme files to reflect this.
	
	* configure.in:
	* icons/ardmore/ardmore.xml:
	* icons/arlo/Makefile.am:
	* icons/arlo/arlo.xml:
	* icons/arlo/throbber/.cvsignore:
	* icons/arlo/throbber/Makefile.am:
	* icons/default.xml:
	* icons/eazel/Makefile.am:
	* icons/eazel/eazel.xml:
	* icons/gnome/Makefile.am:
	* icons/gnome/gnome.xml:
	* icons/gnome/throbber/.cvsignore:
	* icons/gnome/throbber/Makefile.am:
	* icons/throbber/Makefile.am:

2000-10-26  Darin Adler  <darin@eazel.com>

	Fix bug 3998 (Move to Trash crashes Nautilus if item with that
	name already in trash).

	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_notify_files_moved): Change the sequence so
	that the renaming doesn't try to update the file hash twice.
	
	* src/file-manager/fm-icon-view.c: (compute_menu_item_info):
	Handle NULL icon container case. This case happened to Will while
	testing.
	
	* src/file-manager/fm-directory-view.c: (load_directory): Fix
	GList leak.
	* src/nautilus-view-frame.c: (nautilus_view_frame_destroy): Fix
	string leak.
	* src/nautilus-window-menus.c: (append_bookmark_to_menu): Fix
	GdkPixbuf ref. leak.

	* libnautilus-extensions/nautilus-user-level-manager.c:
	(user_level_set_default_if_needed): Tiny coding style change.
	
2000-10-26  Rebecca Schulman  <rebecka@eazel.com>

	* nautilus.spec.in:  Moved the spec file entry
	from the binaries section to the data section,
	so the manual files' permissions will be set
	correctly, and changed *.sgml to * so
	we'll get the associated .css files (they're
	style sheets, I think?) and the images 
	installed, too.

2000-10-26  Mathieu Lacage  <mathieu@eazel.com>

	* nautilus.spec.in: add sgml files in rpms

2000-10-26  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(get_link_name), (make_next_duplicate_name):
	Link names weren't properly escaped causing them not to
	get selected.

	* src/file-manager/fm-directory-view.c: (copy_move_done_callback),
	(new_folder_done),
	(fm_directory_view_trash_state_changed_callback):
	added asserts

2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_destroy), (label_enter_event), (label_leave_event),
	(image_enter_event), (image_leave_event),
	(prelight_data_free_callback), (image_add_prelighting),
	(label_add_prelighting), (footer_item_new):
	Final arlification touches.  Make the footer item's left and right
	bumpers prelight as well.
	
2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.c:
	(mozilla_is_uri_handled_by_nautilus):
	Add "gnome-help" and "ghelp" to the list of uris handled by
	Nautilus as requested by Ali.
	
2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/Makefile.am:
	Add LIBPNG to test program link line.  It was breaking for me.
	
2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/shared-service-utilities.c:
	* components/services/nautilus-dependent-shared/shared-service-utilities.h:
	* components/services/nautilus-dependent-shared/shared-service-widgets.c:
	* components/services/nautilus-dependent-shared/shared-service-widgets.h:
	Remove a bunch of unused code.  Also removed 'go_to_uri()' which
	does the exact same thing (and nothing more) than
	'nautilus_view_open_location()'.  Use that directly instead.

	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(show_dialog_and_run_away),
	(nautilus_service_install_view_update_from_uri):
	* components/services/inventory/nautilus-view/nautilus-inventory-view.c:
	(gather_config_button_cb), (register_later_cb),
	(make_http_post_request):
	* components/services/login/nautilus-view/nautilus-change-password-view.c:
	(authn_succeeded), (maintenance_button_cb):
	Tiny bit of 'go_to_uri' cleanup.
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (logged_in_callback), (logged_out_callback),
	(preferences_button_cb), (register_button_cb), (goto_service_cb),
	(goto_update_cb), (error_dialog_cancel_cb),
	(footer_item_clicked_callback):
	Add #defines for magical uris and 'go_to_uri' cleanup.

2000-10-26  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/main.c: (main):
	Dont need to check the mozilla environment anymore.
	
2000-10-26  Mathieu Lacage  <mathieu@eazel.com>

	Fix bug 2571: action not computed corected for dnd in list view.
	Also, the dnd in list view should be slightly nicer now :)
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_marshal_NONE__POINTER_POINTER_POINTER_INT_INT_INT), space
	(nautilus_gtk_marshal_NONE__POINTER_POINTER_POINTER_POINTER_INT_INT
	_UINT): brand new function for brand new signal as below :)
	* libnautilus-extensions/nautilus-gtk-extensions.h: prototype.
	
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_initialize_class), 
	(nautilus_list_get_drop_action):
	* libnautilus-extensions/nautilus-list.h:
	Add signal get_default_action, remove old code to compute
	default action...

	* src/file-manager/fm-list-view.c:
	(nautilus_list_find_icon_list_drop_target),
	(fm_list_get_default_action), (set_up_list):
	connect to new signal, move old code to there, cleanup, finish.

2000-10-26  Andy Hertzfeld  <andy@eazel.com>

	* components/music/nautilus-music-view.c: (selection_callback),
	(add_play_controls), (nautilus_music_view_set_album_image),
	(nautilus_music_view_update):
	minimized flashing in the music view by fixing the size of the
	song label and play time, since it was relaying everything out
	when they changed.
	
2000-10-26  Mathieu Lacage  <mathieu@eazel.com>

        Make prelighted icons not prelighted when you leave the list 
	view without dropping. Also, move the actual prelighting
	operation from fm-list-view to nautilus-list.
	Also, remove FIXME about this bug since it is fixed.
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_leave),
	(nautilus_list_find_icon_list_drop_target),
	(nautilus_list_prelight_if_necessary):
	* src/file-manager/fm-list-view.c: (fm_list_handle_dragged_items):

2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/Makefile.am:
	Fix bug 4031.  Mozilla component wont run cause of unresolved
	symbols.  Link in the standard location of Mozilla
	(/usr/lib/mozilla) to make it always work without having to mess
	with environment stuff.
	
2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_item_new), (eazel_services_footer_update):
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_new):
	Move more constants to shared place.
	
2000-10-26  Mathieu Lacage  <mathieu@eazel.com>

	* libnautilus-extensions/nautilus-drag.c: spaces...
	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_drag_start), 
	(nautilus_list_drag_leave): spaces.
	* src/file-manager/fm-list-view.c: 
	(fm_list_receive_dropped_icons): make dnd work in list 
	view by removing some old code from there which was made 
	useless by some recent changes in teh copy/move code...

2000-10-25  Mike Fleming  <mfleming@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.c:
	(eazel_services_scheme_untranslate):

	Fix 3969; Untranslating eazel-services URI's works
	correctly for non-default users.

2000-10-25  John Sullivan  <sullivan@eazel.com>

	Fixed problems that were causing crash when Services button pressed.

	* libnautilus-extensions/nautilus-directory-async.c:
	(load_directory_done), (dequeue_pending_idle_callback):
	Was missing several NULL checks.

2000-10-25  Robey Pointer  <robey@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (generate_install_form), (show_dialog_and_run_away):

	A few quick tweaks to make the installer screenshot-worthy, and to
	fix a possible case where it would switch to a new URI before it
	had told nautilus it was done loading.  (I think that was
	confusing Nautilus in some corner cases.)
	
	* components/services/trilobite/libtrilobite/trilobite-redirect.c:
	(wipe_redirect_table), (add_redirect),
	(trilobite_redirect_lookup):

	Add "/" back to the keys when adding and removing, since otherwise
	we end up with a big blob of evil-named keys.  Fix the bug that
	the missing "/" was hiding: namely, that mass-removing keys had
	stopped working after the gconf upgrade.
	
2000-10-25  Mike Fleming  <mfleming@eazel.com>

	* components/mozilla/main.c: (run_test_cases), (main):
	* components/mozilla/nautilus-mozilla-content-view.c:
	(is_uri_partial), (make_full_uri_from_relative),
	(mozilla_dom_mouse_click_callback),
	(test_make_full_uri_from_relative):

	Fix bugzilla.eazel.com 3949.  Better (but still not perfect) 
	support for relative URI's.  The cases that aren't handled are rarely
	encountered in my experiance.  I'd make it perfect, but I just
	don't have time right now.
	Also added self-test.

2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-extensions.c:
	(eazel_services_label_new):
	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_item_new), (eazel_services_footer_update):
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_new):
	Place the font families, weights and sizes in the header file so
	that Arlo can arloify them.
	
2000-10-25  Darin Adler  <darin@eazel.com>

	* libnautilus-extensions/nautilus-directory-private.h:
	* libnautilus-extensions/nautilus-directory.h:
	* libnautilus-extensions/nautilus-file-private.h:
	* libnautilus-extensions/nautilus-directory-async.c: (istr_equal),
	(istr_hash), (istr_set_new), (istr_set_insert), (add_istr_to_list),
	(istr_set_get_as_list), (istr_set_destroy): New set of functions
	for manipulating a set of case-insensitive strings (private for
	now).
	(mime_list_cancel): Change to use the istr_set.
	(get_filter_options_for_directory_count): Moved up so it can be
	used by the directory load code.
	(load_directory_done): Common function to use when a load is
	completed or cancelled.
	(dequeue_pending_idle_callback): Update file count and MIME list
	as well as just loading the files.
	(should_get_directory_count): New cover that takes into account
	the fact that a directory load is already getting the count.
	(should_get_mime_list): New cover that takes into account
	the fact that a directory load is already getting the MIME list.
	(start_monitoring_file_list): Set up more stuff since a load
	does a lot more now.
	(directory_count_start): Don't start a directory count if we are
	already loading the directory's file list.
	(mime_list_one), (mime_list_callback), (mime_list_load): Change to
	use the istr_set. Also removed some code that set variables that
	were never used.
	(mime_list_start): Don't start a MIME list if we are already
	loading the directory's file list.

	* components/adapter/Makefile.am:
	* components/hardware/Makefile.am:
	* components/html/Makefile.am:
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/music/Makefile.am:
	* components/rpmview/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	* components/services/install/lib/Makefile.am:
	* components/services/install/nautilus-view/Makefile.am:
	* components/services/install/server/Makefile.am:
	* components/services/inventory/lib/Makefile.am:
	* components/services/inventory/nautilus-view/Makefile.am:
	* components/services/login/nautilus-view/Makefile.am:
	* components/services/nautilus-dependent-shared/Makefile.am:
	* components/services/summary/lib/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/time/command-line/Makefile.am:
	* components/services/time/nautilus-view/Makefile.am:
	* components/services/time/service/Makefile.am:
	* components/services/trilobite/libtrilobite/Makefile.am:
	* components/services/trilobite/sample/command-line/Makefile.am:
	* components/services/trilobite/sample/lib/Makefile.am:
	* components/services/trilobite/sample/nautilus-view/Makefile.am:
	* components/services/trilobite/sample/service/Makefile.am:
	* components/services/vault/command-line/Makefile.am:
	* components/tree/Makefile.am:
	* helper-utilities/authenticate/Makefile.am:
	* nautilus-installer/src/Makefile.am:
	Changed all use of CPPFLAGS to use INCLUDES instead as it says in
	the automake documentation.
	
	* libnautilus-extensions/nautilus-glib-extensions.h: Reformatting.
	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_hash_table_remove_deep_custom),
	(nautilus_g_hash_table_remove_deep), (destroy_deep_helper),
	(nautilus_g_hash_table_destroy_deep_custom): Reformatting.

2000-10-25  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(new_folder_xfer_callback):
	new_folder_xfer_callback was not escaping the space in
	duplicate_name, this was causing us to not recognize
	second and subsequent new folders (& select them).
	* src/file-manager/fm-directory-view.c: (copy_move_done_callback):
	moved free call to better spot

2000-10-25  J Shane Culpepper  <pepper@eazel.com>

	* src/nautilus-window-service-ui.c: (goto_online_storage):

	Fixing url string.  Had one too many slashes.

2000-10-25  John Sullivan  <sullivan@eazel.com>

	Fixed various usability problems with the services log-in
	dialog that I ran into. Some coding tweaks too.

	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_error_dialog): move cast to cause fewer of them
	(name_or_password_field_activated): New function, auto-clicks the
	OK button if the password row is activated.
	(generate_login_dialog): move cast to cause fewer of them; use
	#defines for button indices and row numbers; changed "Opps" to
	"Oops" (Oops!); set default button to OK button; wire up
	name_or_password_field_activated; start with focus in Name field.

2000-10-25  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (nautilus_summary_view_load_uri),
	(merge_bonobo_menu_items):
	* src/Makefile.am:
	* src/nautilus-window-service-ui.c: (goto_online_storage),
	(goto_software_catalog):

	Fixing the services menu items to go to correct locations.

2000-10-25  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-query.c:
	Fixed a include problem.
	* components/services/install/lib/eazel-install-rpm-glue.h:
	Added /me to authors

2000-10-25  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-types.c:
	(categorydata_new):
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_category):
	* nautilus-installer/src/installer.c:
	(eazel_installer_add_category):

	Add <DEFAULT/> option to the package list XML file, and make all
	default choices be pre-clicked when the user gets to the selection
	page.

2000-10-25  Darin Adler  <darin@eazel.com>

	* src/nautilus-applicable-views.c: (nautilus_navigation_info_new),
	(nautilus_navigation_info_free),
	(nautilus_navigation_info_get_location): Changed to store the
	location URI separate from the NautilusFile object. NautilusFile
	was munging URLs that had queries in them, causing big problems
	for the software catalog among other things. This is a good
	short-term fix.

2000-10-25  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_rpm_query):
	Don't bomb out when db cannot be accessed.

2000-10-25  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-list.c:
	(nautilus_list_set_selection):
	nautilus_list_set_selection used to pass a bogus NautilusCListRow*
	to row_set_selected
	
	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_new_folder):
	whitespace change

	* src/file-manager/fm-list-view.c:
	comment corrected

2000-10-25  Darin Adler  <darin@eazel.com>

	* components/adapter/bonobo-stream-vfs.c: (vfs_get_info),
	(vfs_set_info), (vfs_write), (vfs_read), (vfs_seek), (vfs_copy_to),
	(vfs_commit), (vfs_revert), (vfs_destroy),
	(bonobo_stream_vfs_class_init), (bonobo_stream_vfs_open):
	Update for changes to the BonoboStream class. Also did a thorough code
	review, fixed some small bugs, and added a bunch of FIXMEs for things
	that are broken.

2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/eazel-services-constants.h:
	Removed.  It was a bad try.  Stuff is now in eazel-services-extensions.h.
	
	* components/services/nautilus-dependent-shared/Makefile.am:
	* components/services/nautilus-dependent-shared/eazel-services-extensions.c:
	(pixbuf_new_from_name), (eazel_services_image_new),
	(eazel_services_label_new):
	* components/services/nautilus-dependent-shared/eazel-services-extensions.h:
	Add a place to put shared services extensions.
	
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(footer_item_new), (footer_remainder_new),
	(eazel_services_footer_update):
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_new):
	* components/services/nautilus-dependent-shared/test-footer-header.c:
	Remove a bunch of duplicated code and put it in a shared
	extensions location.  Make the footer real.  Add an item_clicked
	signal to the footer.

	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	Hook up the footer for item clicks.
	
	* libnautilus-extensions/nautilus-image.c:
	(nautilus_image_new_loaded):
	* libnautilus-extensions/nautilus-image.h:
	* libnautilus-extensions/nautilus-label.c:
	(nautilus_label_new_loaded):
	* libnautilus-extensions/nautilus-label.h:
	Add constructors that take a bunch of arguments for the various
	widgets attributes.  Makes the widgets easier to use for callers
	that need to tweak many attributes (like eazel services).
	
2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/.cvsignore:
	* components/services/nautilus-dependent-shared/Makefile.am:
	* components/services/nautilus-dependent-shared/eazel-services-constants.h:
	* components/services/nautilus-dependent-shared/eazel-services-footer.c:
	(eazel_services_footer_initialize_class),
	(eazel_services_footer_initialize), (footer_destroy),
	(pixbuf_new_from_name), (label_new), (label_enter_event),
	(label_leave_event), (label_button_press_event), (label_free_data),
	(label_free_uri), (image_new), (image_new_from_name),
	(buffered_widget_add_prelighting), (footer_item_new),
	(footer_remainder_new), (eazel_services_footer_new),
	(eazel_services_footer_update):
	* components/services/nautilus-dependent-shared/eazel-services-footer.h:
	* components/services/nautilus-dependent-shared/eazel-services-header.c:
	(eazel_services_header_initialize_class),
	(eazel_services_header_initialize), (header_destroy),
	(pixbuf_new_from_name), (label_new), (image_new),
	(image_new_from_name), (eazel_services_header_new),
	(eazel_services_header_set_text):
	* components/services/nautilus-dependent-shared/eazel-services-header.h:
	Two new widgets to deal with services views headers and footers.
	
	* components/services/install/nautilus-view/nautilus-service-install-view.c:
	(generate_install_form):
	* components/services/login/nautilus-view/nautilus-change-password-view.c:
	(generate_change_password_form):
	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	(generate_summary_form):
	Use the new footer and header widgets.
	
	* components/services/nautilus-dependent-shared/shared-service-widgets.c:
	* components/services/nautilus-dependent-shared/shared-service-widgets.h:
	Retire some old code.

	* components/services/nautilus-dependent-shared/test-footer-header.c:
	(delete_event), (main):
	Add a test for the new header and footer widgets.
	
2000-10-25  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-label.c:
	(nautilus_label_size_request), (render_buffer_pixbuf):
	Make sure text layout honors the vertical and horizontal offsets.

	(nautilus_scalable_font_draw_text):
	* test/test-nautilus-image.c: (label_new), (label_enter_event),
	(label_leave_event), (label_free_data),
	(buffered_widget_add_prelighting), (header_new), (footer_item_new),
	(footer_remainder_new), (footer_new), (main):
	More work on prelighting footers.
	
2000-10-25  Andy Hertzfeld  <andy@eazel.com>

	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.c: (create_image_widget), (create_image_widget_from_uri):
	fixed bug where local images were not showing up in the summary
	view.
	
2000-10-24  Andy Hertzfeld  <andy@eazel.com>

	worked on bug 3898, selection in the aa icon view is too slow.
	Fixed by using a fill to make the selection pixbuf with some tiny
	blits for the rounded corners, instead of stretching a pixbuf.
	Also, made the selection color themable in the process.
	
	* libnautilus-extensions/nautilus-icon-canvas-item.c:
	(clear_rounded_corners), (draw_label_text_aa):
	make the selection pixbuf with a fill and then some
	blits for the corner.
	* libnautilus-extensions/nautilus-icon-container.c:
	(nautilus_icon_container_initialize), (icon_destroy),
	(nautilus_icon_container_set_is_fixed_size),
	(nautilus_icon_container_theme_changed):
	made it read the selection color from the current theme
	* libnautilus-extensions/nautilus-icon-private.h:
	added a field to keep the selection color w/alpha.
	* icons/default.xml:
	added semi-transparent gray selection color to default theme.
	
2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-buffered-widget.c:
	Remove a bunch of extraneous includes.
	
2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/icons/Makefile.am:
	Rename one of the icons.
	
	* test/test-nautilus-image.c: (delete_event), (icon_get_path),
	(pixbuf_new_from_name), (label_new), (label_enter_event),
	(label_leave_event), (label_new_with_prelight), (image_new),
	(image_new_from_name), (header_new), (footer_new), (main):
	Add better test for image and label widgets.
	
2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/Makefile.am:
	Fix the broken build.  Add missing header to sources.
	
2000-10-24  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/lib/eazel-install-logic.c:
	Moved a CORBA include, so EAZEL_INSTALL_NO_CORBA doesn't include
	it
	
	* components/services/time/command-line/main.c: (main):
	* components/services/time/idl/trilobite-eazel-time-service.idl:
	* components/services/time/nautilus-view/trilobite-eazel-time-view.
	c: (server_button_pressed), (timediff_button_pressed),
	(trilobite_eazel_time_view_initialize),
	(trilobite_eazel_time_view_destroy):
	* components/services/time/service/trilobite-eazel-time-service-pri
	vate.h:
	* components/services/time/service/trilobite-eazel-time-service.c:
	(impl_Trilobite_Eazel_Time_Service_set_time_server),
	(trilobite_eazel_time_service_get_epv),
	(trilobite_eazel_time_service_finalize),
	(trilobite_eazel_time_service_initialize_load_config),
	(get_nist_time), (trilobite_eazel_time_service_get_server_time):
	Revived the timeservice, made it use nist/ntp (defaults to
	nist1.sjc.certifiedtime.com). Uses code from gnuclear to do the
	actual nist parse.
	
	* nautilus-installer/src/Makefile:
	Yes.
	* nautilus-installer/src/installer.c: (start_over),
	(add_update_package), (eazel_install_preflight), (check_system),
	(more_check_system):
	Fixed the "will update eog && will remove eog" bug. Now it just
	say "will update eog x 2". Also checks for rh7.x and rpm v.4.x
	
	* nautilus-installer/src/prescript:
	Temporarily hacked prescript to run
	/h/public/bin/eazel-trilobite-configure (if present), and set
	nautilus to use gegl as services server.
	
	* nautilus.spec.in:
	Updated deps to ORBit >= 0.5.3 and oaf >= 0.6.0

2000-10-24  Robey Pointer  <robey@eazel.com>

	* libnautilus-extensions/nautilus-directory-async.c:
	(mime_list_callback):

	Fix a typo that caused a failure to not report that it failed.

2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* components/services/nautilus-dependent-shared/icons/Makefile.am:
	* components/services/nautilus-dependent-shared/icons/eazel-logo-left-side-repeat.png:
	* components/services/nautilus-dependent-shared/icons/eazel-logo-right-side-eazel-logo.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-normal-fill.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-normal-left-bumper.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-normal-right-bumper.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-prelight-fill.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-prelight-left-bumper.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-prelight-right-bumper.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-remainder-fill.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-remainder-left-bumper.png:
	* components/services/nautilus-dependent-shared/icons/summary-service-remainder-right-bumper.png:

	New icons for summary view.
	
2000-10-24  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row):
	lots of layout tweaks to please Arlo; it's still not finished yet
	since I wasn't able to shrink the news section properly
	
	* libnautilus-extensions/nautilus-tabs.c:
	(nautilus_tabs_initialize), (draw_tab_label), (draw_all_tabs),
	(nautilus_tabs_prelight_tab), (nautilus_tabs_select_tab):
	changed font size, text spacing and prelight behaviour as
	specified by Arlo.
	
	* icons/eazel/Back.png:
	* icons/eazel/Forward.png:
	* icons/eazel/Home.png:
	* icons/eazel/Refresh.png:
	* icons/eazel/Search.png:
	* icons/eazel/SearchWeb.png: 
	* icons/eazel/Services.png:
	* icons/eazel/Stop.png:
	* icons/eazel/Up.png:

	updated Susan's toolbar icons
	
2000-10-24  Arlo Rose  <arlo@eazel.com>

	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/prelight-active-bridge.png:
	Fixed a typo.

2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/Makefile.am:
	* librsvg/art_rgba.c: (art_rgba_rgba_composite),
	(art_rgba_fill_run), (art_rgba_run_alpha):
	* librsvg/art_rgba.h:
	* librsvg/rsvg.c:
	Make Raph's latest changes work with the old version of libart in
	gnome-libs-1-0.
	
2000-10-24  Arlo Rose  <arlo@eazel.com>

	* icons/arlo/Makefile.am:
	* icons/arlo/i-directory.xml:
	* icons/arlo/emblem-nowrite-72.png:
	* icons/arlo/emblem-nowrite-96.png:
	Some old stuff I guess I never checked in...

	
	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/prelight-fill.png:
	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/active-prelight-bridge.png:
	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/prelight-active-bridge.png:
	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/prelight-right-bumper.png:
	* components/services/summary/nautilus-view/icons/
	gray_tab_pieces/prelight-left-bumper.png:
	Making the summary view tabs pre-light better.
	
2000-10-24  Raph Levien  <raph@acm.org>

	* librsvg/rsvg.c: Implemented the "opacity" property for objects
	and groups. This makes rsvg render more SVG files exported from
	Adobe Illustrator 9 correctly and should make Arlo happy.

	* librsvg/opacity.svg: New test file including opacity examples.

2000-10-24  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_update_news_entry_row), (authn_cb_failed),
	(login_button_cb), (generate_login_dialog),
	(nautilus_summary_view_load_uri):

	Adding login changes to the summary view.  Still needs a bit more
	work but looks better.

2000-10-24  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_hash_table_remove_deep_custom),
	(nautilus_g_hash_table_destroy_deep_helper):
	These two fns now properly handle key == value (won't double free)

2000-10-24  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(handle_xfer_ok):
	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_hash_table_remove_deep_custom),
	(nautilus_g_hash_table_remove_deep),
	(nautilus_g_hash_table_destroy_deep_helper),
	(nautilus_g_hash_table_destroy_deep_custom),
	(nautilus_g_hash_table_destroy_deep):
	* libnautilus-extensions/nautilus-glib-extensions.h:
	* src/file-manager/fm-directory-view.c: (debuting_uri_data_free):
	Fix embarrassing check-in sloppiness

2000-10-24  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_hash_table_remove_deep_custom),
	(nautilus_g_hash_table_remove_deep),
	(nautilus_g_hash_table_free_deep_helper),
	(nautilus_g_hash_table_free_deep_custom),
	(nautilus_g_hash_table_free_deep):
	* libnautilus-extensions/nautilus-glib-extensions.h:
	Fixed APIs of new utils to match existing, similar, fns.

	* src/file-manager/fm-directory-view.c: (debuting_uri_data_free),
	(debuting_uri_add_file_callback), (copy_move_done_data_free),
	(pre_copy_move_add_file_callback), (copy_move_done_partition_func),
	(copy_move_done_callback):
	Icons now left selected after copy_move operation.

2000-10-24  Brian Frank  <bfrank@eazel.com>

	* data/static_bookmarks.xml
	Updated bookmarks list to current links

2000-10-24  Darin Adler  <darin@eazel.com>

	Some work towards reducing load_directory calls.

	Also fixed bug 3978 (Many Bonobo warnings/errors on quit).
	
	* libnautilus-extensions/nautilus-directory-async.c:
	(set_up_request_by_file_attributes),
	(update_file_info_in_list_if_needed),
	(dequeue_pending_idle_callback), (request_is_satisfied),
	(get_info_callback), (file_info_start):
	* libnautilus-extensions/nautilus-directory-private.h:
	* libnautilus-extensions/nautilus-file-attributes.h:
	* libnautilus-extensions/nautilus-file-private.h:
	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_new_from_info), (destroy),
	(nautilus_file_update_info), (nautilus_file_update_name),
	(nautilus_file_compare_by_type),
	(nautilus_file_get_string_attribute), (get_description),
	(update_description_for_link), (nautilus_file_get_type_as_string),
	(nautilus_file_get_mime_type), (nautilus_file_is_mime_type),
	(nautilus_file_check_if_ready):
	* libnautilus-extensions/nautilus-file.h:
	* libnautilus-extensions/nautilus-mime-actions.c:
	(nautilus_mime_actions_get_required_file_attributes),
	(nautilus_mime_get_default_action_type_for_file),
	(nautilus_mime_get_default_application_for_file_internal),
	(nautilus_mime_get_default_component_for_file_internal),
	(nautilus_mime_get_short_list_applications_for_file),
	(nautilus_mime_get_short_list_components_for_file),
	(nautilus_mime_get_short_list_methods_for_file),
	(nautilus_mime_get_all_applications_for_file),
	(nautilus_mime_get_all_components_for_file),
	(nautilus_mime_set_short_list_applications_for_file),
	(nautilus_mime_set_short_list_components_for_file):
	Get rid of the distinction between slow and default MIME type once
	again. We (Pavel, Maciej, John, and I) decided it's better not to
	have multiple opinions on the MIME type, despite our original idea
	that we needed the slow MIME type for some things, even on remote
	file systems.
	
	* libnautilus-extensions/nautilus-glib-extensions.h:
	Fixed the formatting in this file.
	
	* src/file-manager/fm-directory-view.c: (load_location_callback):
	Only force a reload if we are reloading the same directory. This
	is needed to take advantage of the loading already done for us by
	the framework.
	(load_directory): Take a NautilusDirectory instead of a URI string.
	Also take a boolean parameter to control if we force a reload.
	(finish_loading_uri): Respect the boolean parameter that tells us
	whether to force a reload.
	(filtering_changed_callback): Use the new load_directory.
	
	* src/nautilus-applicable-views.c: (nautilus_navigation_info_new),
	(nautilus_navigation_info_cancel), (nautilus_navigation_info_free):
	Monitor the directory while we are loading the component. We
	already need to load the directory to get the MIME types, so this
	does no additional harm, and it prepares us to consolidate the
	loading done for different reasons.
	
	* src/nautilus-main.c: (main): Use nautilus_setenv instead of
	putenv, since it's more portable.
	
	* src/nautilus-window-manage-views.c: Quick simplification pass on
	state machine. Got rid of the use of varargs and renamed a bunch
	of things.
	
	* src/nautilus-window-manage-views.h:
	* src/nautilus-window-private.h:
	Moved external functions from nautilus-window-manage-views.c to
	all be in nautilus-window-manager-views.h. This is one step in
	reducing the number of clients that need access to private stuff
	in NautilusWindow.
	
	* src/nautilus-window-service-ui.c: (detach_service_ui),
	(nautilus_window_install_service_ui): Detach the service UI on
	"destroy" rather that using set_data_full, because finalize time
	is too late.

	* src/nautilus-view-frame.c: (nautilus_view_frame_destroy):
	Got rid of extra unref that was messing things up here.
	
2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.c:
	(uris_are_equal), (nautilus_mozilla_content_view_load_uri):
	Fix for bug 3908.  Browsing to web documents deeper than the root
	is broken.  I fixed it by backing out my previous broken fix for
	"reloading" a web page.  There is a separate bug for the reload
	issue which ill fix properly later.
	
2000-10-24  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	Make the require rpm version be 3.0.4 or greater.  Not just 3.0.4.
	
2000-10-24  Andy Hertzfeld  <andy@eazel.com>

	added new certified emblem from Susan
	
	* data/emblems/Makefile.am:
	* data/emblems/certified.png:
	added certified.png
	* icons/Makefile.am:
	* icons/emblem-certified.svg:
	added emblem-certified.svg, removed emblem-certified.gif

2000-10-23  Pavel Cisler  <pavel@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(parse_previous_duplicate_name),
	(nautilus_self_check_file_operations):
	Fix 3971 - "duplicate" from context-click menu adds space to
	beginning of the name.
	This was a case of misinterpretting files such as ".bashrc" as
	an extension.
	Added tests that catch this problem and fixed it. 

2000-10-24  Josh Barrow  <josh@eazel.com>

	* nautilus.spec.in:
	Make it require 3.0.4 or *greater*.  I'm using 3.0.5 and it 
	works fine.

2000-10-23  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-types.c:
	(categorydata_new):
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_category):
	* nautilus-installer/src/installer.c: (strip_categories),
	(start_over_make_category_func), (start_over),
	(jump_to_retry_page), (add_force_packages), (add_force_remove),
	(add_update_package), (toggle_button_toggled),
	(eazel_installer_add_category), (eazel_installer_do_install):

	add <EXCLUSIVE/> tag to categories in package-list.xml to indicate
	that a category can't be selected with any other category (it's
	mutually exclusive with them).  added puppet-strings to the
	bootstrap installer to support that.
	
2000-10-23  Eskil Heyn Olsen  <eskil@eazel.com>

	* user-guide/C/Makefile.am:
	Fixing tinderbox build.
	
2000-10-23  Eskil Heyn Olsen  <eskil@eazel.com>

	* configure.in:
	Some code to test for rpm version. We require 3.0.4. If it fucks
	up, feel free to revert.
	
	* components/services/install/lib/eazel-install-private.h:
	* components/services/install/lib/eazel-install-object.c:
	Moved the DEFAULT_RPM_DB_ROOT into -private.h
	
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_rpm_query):
	Code so you can call the query function directly
	(EAZEL_INSTALL_SLIM/NO_CORBA)
	
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_fill_from_rpm_header):
	Moved support for rpm < 3.0.4
	
	* nautilus-installer/src/Makefile:
	* nautilus-installer/src/callbacks.c: (begin_install):
	* nautilus-installer/src/installer.c: (insert_info_page),
	(create_window), (check_system), (more_check_system),
	(eazel_installer_initialize):
	If eazel-hacking is installed, offer to remove it.
	
2000-10-23  Mike Fleming  <mfleming@eazel.com>

	* components/services/summary/nautilus-view/main.c: (main):
	Add gconf-init
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (save_default_eazel_service_user), (authn_cb_succeeded),
	(am_i_logged_in), (logged_in_callback),
	(nautilus_summary_view_initialize),
	(nautilus_summary_view_destroy):

	Store previously used Eazel Service user for later.  The ammonite
	login dialog makes use of this as the default username.
	

2000-10-23  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-types.c:
	(packagedata_fill_from_rpm_header):

	Fix a few warnings that show up on older rpmlibs.

2000-10-23  Pavel Cisler  <pavel@eazel.com>

	Last part of fix to 2989 - Disk thrashing on Nautilus startup.
	* libnautilus-extensions/nautilus-trash-directory.c: (add_volume):
	When starting up, don't try to create a Trash up-front, just search
	for existing Trash directories. The first time Nautilus ever runs,
	this will still take the same ammount of time, the next time it
	will use the cached entries.

	* src/file-manager/fm-directory-view.c:
	(fm_directory_view_can_move_file_to_trash):
	Trash monitor no longer creates Trash directories on startup.
	Create them lazily when trying to move an item to the Trash.

2000-10-23  Mathieu Lacage  <mathieu@eazel.com>

	* user-guide/C/Makefile.am: make it install files for real...

2000-10-23  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 1945, Image viewer component does not display XPMs
	Fixed bug 1964, doesn't load xpm images using the loader framework.
	
	* components/image-viewer/nautilus-image-view.c:
	(load_image_from_stream):
	Fixed some leaks and call close on the loader to fix TIFF and XPM loading.
	
	* libnautilus-extensions/nautilus-gdk-pixbuf-extensions.c:
	(nautilus_gdk_pixbuf_load):
	Now it does. Loader must be closed to cause callbacks an non-progressive
	loaders to complete.

	* components/services/install/lib/eazel-install-types.c:
	(packagedata_fill_from_rpm_header):
	Fixed a couple of build breaking unitilaized variable warnings.
	
	* components/tree/nautilus-tree-view.c:
	Updated function call to new prototype that was causing build to fail.	

2000-10-23  Mathieu Lacage  <mathieu@eazel.com>

	* components/help/hyperbola-filefmt.c:
	(fmt_help_populate_tree_from_subdir): add lookup 
	for sgml and xml files.

2000-10-23  Robey Pointer  <robey@eazel.com>

	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_local_xml_package_list):
	* nautilus-installer/src/installer.c: (strip_categories),
	(start_over_make_category_func), (start_over),
	(jump_to_retry_page), (add_force_packages), (add_force_remove),
	(add_update_package), (eazel_installer_add_category),
	(eazel_installer_do_install), (eazel_installer_initialize):
	* nautilus-installer/src/link.sh:
	
	Reduce category description text to 10pt and adjust the layout to
	match Arlo specs.  Change g_message's to LOG_DEBUG just to annoy
	Eskil (actually, so we can turn them on/off easily with --debug).

2000-10-23  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-file-operations.c:
	(handle_xfer_ok), (sync_xfer_callback),
	(nautilus_file_operations_copy_move),
	(nautilus_file_operations_move_to_trash),
	(nautilus_file_operations_delete), (do_empty_trash):
	* libnautilus-extensions/nautilus-file-operations.h:
	Added callback for copy_move operation - to support
	selecting icons afterward.

	* libnautilus-extensions/nautilus-glib-extensions.c:
	(nautilus_g_hash_table_remove_deep_custom),
	(nautilus_g_hash_table_remove_deep),
	(nautilus_g_hash_table_free_deep_helper),
	(nautilus_g_hash_table_free_deep_custom),
	(nautilus_g_hash_table_free_deep):
	* libnautilus-extensions/nautilus-glib-extensions.h:
	Added misc hash table utilities

	* src/file-manager/fm-directory-view.c: (debuting_uri_data_free),
	(debuting_uri_add_file_callback), (copy_move_done_data_free),
	(pre_copy_move_add_file_callback), (pre_copy_move),
	(copy_move_done_partition_func), (copy_move_done_callback),
	(fm_directory_view_create_links_for_files),
	(fm_directory_view_duplicate_selection), (new_folder_done),
	(fm_directory_view_new_folder),
	(fm_directory_view_move_copy_items):
	Hooked up to new copy_move callback. There are still problems,
	the icons get unselected by someone after they're selected.

2000-10-23  Eskil Heyn Olsen  <eskil@eazel.com>

	* README:
	Added that we require rpm 3.0.4 if --enable-eazel-service

	* components/services/install/lib/eazel-install-types.c:
	(packagedata_fill_from_rpm_header):
	Fix for older rpm's (although installation will probably still
	be borked, should insert #error instead.

	* nautilus.spec.in:
	nautilus-trilobite requires rpm = 3.0.4

2000-10-23  Robey Pointer  <robey@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (create_package):

	Nautilus doesn't always encode "rpm_id=" into "rpm_id%3D", so
	check for both.

2000-10-23  Darin Adler  <darin@eazel.com>

	* Makefile.shared: Fix extra dependency that was causing the xml.h
	files to be generated too often.
	* configure.in: Fix code that detects the gcc options to work even
	with -O on.
	
	* src/nautilus-view-frame.h:
	* src/nautilus-view-frame.c:
	(nautilus_view_frame_initialize_class),
	(view_frame_loaded), (view_frame_failed),
	(nautilus_view_frame_handle_client_destroy),
	(nautilus_view_frame_handle_client_gone),
	(nautilus_view_frame_new), (check_if_view_is_gone),
	(nautilus_view_frame_set_to_component),
	(nautilus_view_frame_get_is_underway):
	Revamp set of signals to be easier to understand. Handle all
	failures uniformly,
	
	* src/nautilus-window-manage-views.h:
	* src/nautilus-window-manage-views.c: (change_selection),
	(nautilus_window_update_for_new_location),
	(nautilus_window_has_really_changed),
	(nautilus_window_set_state_info),
	(nautilus_window_set_sidebar_panels),
	(zoom_level_changed_callback), (get_history_list_callback),
	(change_selection_callback), (change_status_callback),
	(failed_callback), (load_underway_callback),
	(load_complete_callback), (open_location_callback),
	(open_location_in_new_window_callback), (title_changed_callback),
	(nautilus_window_connect_view), (nautilus_window_disconnect_view):
	Make more of the view management private to this file. Use the
	signals by their new names. Disconnect all the signals, not just
	the error-related ones.
	
	* src/nautilus-window.c:
	(nautilus_window_set_content_view_widget): Updated the debugging
	check to do it with the new Bonobo UI calls.

2000-10-23  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form):
	made the summary view not display the news section when there is
	no news to display.
	
2000-10-23  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/services/install/idl/trilobite-eazel-install.idl:
	Added a comment to the ssl_rename variable.
	Added a function stub for querying the server about packages. Not
	impl yet.
	
	* components/services/install/lib/eazel-install-logic.c:
	(eazel_install_check_for_file_conflicts),
	(eazel_install_do_transaction_fill_hash),
	(eazel_install_monitor_process_pipe),
	(eazel_install_monitor_err_process_pipe),
	(eazel_install_monitor_subcommand_pipe),
	(eazel_install_do_transaction_all_files_check),
	(eazel_install_clean_name_to_package_hash),
	(eazel_install_start_transaction),
	(eazel_install_check_existing_packages),
	(eazel_install_fetch_dependencies), (dump_one_package),
	(eazel_install_do_file_conflict_check),
	(eazel_install_ensure_deps), (eazel_uninstall_upward_traverse),
	(eazel_uninstall_globber):
	Added comments and clarified some variable names.
	No file dep checking on --force.
	No whatrequires check on uninstall on --force
	Moved the all_files_check call into ensure_deps, so if packages
	are pruned we can rerun ensure_deps.
	No longer check if a provides file is a directory before conflict
	check (not needed because of fix in eazel-install-types).
	Calling g_main_iteration during file conflict checking if
	EAZEL_INSTALL_SLIM is set.
	Clean up some lists and hashtables at the end of a transaction.
	
	* components/services/install/lib/eazel-install-private.h:
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_finalize), (eazel_install_class_initialize),
	(eazel_install_initialize), (eazel_install_install_packages),
	(eazel_install_uninstall_packages),
	(eazel_install_revert_transaction_from_xmlstring),
	(eazel_install_emit_done):
	All default funcs are NULL if EAZEL_INSTALL_NO_CORBA set.
	Set private->revert to TRUE during revert.
	Some more debug output.
	
	* components/services/install/lib/eazel-install-protocols.c:
	(http_fetch_remote_file), (eazel_install_fetch_file),
	(eazel_install_fetch_package), (get_search_url_for_package):
	Don't add the package to downloaded_files list till after we've
	checked the version and name.
	If revert, use &flag=8 otherwise 12.
	
	* components/services/install/lib/eazel-install-query.c:
	(eazel_install_simple_rpm_query):
	Assert that the dbs hashtable is !null.
	
	* components/services/install/lib/eazel-install-rpm-glue.h:
	* components/services/install/lib/eazel-install-rpm-glue.c:
	(eazel_install_rpm_set_settings),
	(eazel_install_start_transaction_make_rpm_argument_list),
	(eazel_install_monitor_rpm_process_pipe),
	(eazel_install_free_rpm_system),
	(eazel_install_prepare_rpm_system),
	(eazel_install_package_modifies_provides_compare),
	(eazel_install_do_rpm_dependency_check):
	Loads of debug code to grab stderr & stdout output from rpm.
	More comments in the do_rpm_dependency_check func.
	
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-types.c:
	(categorydata_new), (categorydata_list_copy), (categorydata_copy),
	(packagedata_list_copy), (packagedata_copy),
	(packagedata_fill_from_rpm_header), (packagedata_destroy):
	Added a boolean flag to packagedata_copy, toggles whether or not
	to deep copy.
	Fix rpm header load to not add directories to the ->provides list
	(using a wonderfull O(n) function, I'll leave it to the reader to
	improve it).
	Uncommented the rpmheaderFree call.
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(eazel_install_packagelist_to_xml):
	More debug output (we can never have enough!)
	
	* nautilus-installer/src/Makefile:
	Yes.
	
	* nautilus-installer/src/callbacks.c: (druid_cancel),
	(druid_delete), (begin_install), (druid_finish), (prep_install):
	* nautilus-installer/src/installer.c: (create_what_to_do_page),
	(strip_categories), (start_over_make_category_func), (start_over),
	(jump_to_retry_page), (create_window), (eazel_install_progress),
	(eazel_download_progress), (add_force_packages),
	(add_force_remove), (add_update_package), (get_required_name),
	(get_detailed_errors_foreach), (get_detailed_errors),
	(eazel_install_preflight), (eazel_install_delete_files),
	(install_done), (check_system), (eazel_installer_do_install),
	(eazel_installer_initialize):
	* nautilus-installer/src/installer.h:
	* nautilus-installer/src/link.sh:
	* nautilus-installer/src/main.c: (main):
	Now takes a --tmpdir argument
	Puts builddate in window title
	Has a system for creating RepairCases when traversing a tree in
	install_failed signal handler.
	Now handles stuff like "need to updage eog" and then there is no
	update for eog.
	Hopefully also handles circular conflict cases.
	Now has a completely obfuscated call stack...

2000-10-23  Mathieu Lacage  <mathieu@eazel.com>

	* user-guide/C/sgml/chapter-1.sgml:
	applying patch from John Fleck to make it work better
	with the current gnome-db2html behaviour.

2000-10-23  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-window-menus.c: (append_bookmark_to_menu):
	Fixed memory leak I happened to notice.

2000-10-23  J Shane Culpepper  <pepper@eazel.com>

	* nautilus.spec.in:

	Fixing the spec to pick up new image directory.

2000-10-23  John Sullivan  <sullivan@eazel.com>

	Fixed 3568: Bonobo verbs and data leak when menus rebuilt

	Michael Meeks added verb-removing support to Bonobo, which
	I have now deployed in Nautilus.

	* libnautilus-extensions/nautilus-bonobo-extensions.h:
	* libnautilus-extensions/nautilus-bonobo-extensions.c:
	(remove_verbs): New function, walks through the XML nodes
	beneath a specified path and removes each verb it finds.
	(nautilus_bonobo_remove_menu_items_and_verbs): Now calls
	remove_verbs; also changed name from _remove_menu_items
	for clarity.

	* src/file-manager/fm-directory-view.c:
	(reset_bonobo_open_with_menu):
	* src/nautilus-window-menus.c:
	(nautilus_window_remove_bookmarks_menu_items),
	(nautilus_window_remove_go_menu_items): Removed FIXMEs
	and updated for name change.

2000-10-23  John Sullivan  <sullivan@eazel.com>

	* src/nautilus-applicable-views.c:
	(get_nautilus_navigation_result_from_gnome_vfs_result):
	Improved the warning message output to the terminal when 
	get-file-info returns a GnomeVFSResult for which we don't 
	have a nice user error message.

2000-10-23  Mike Fleming  <mfleming@eazel.com>

	* components/services/trilobite/libtrilobite/trilobite-redirect.c:
	(trilobite_get_services_address)
	Added small comment to currently unused  function with regards to
	format of gconf paramameter (services-host)

2000-10-22  Martin Baulig  <baulig@suse.de>

	This is Maciej checking in Martin's fix for 3691. Credit to him,
	blame to me.
	
	* components/adapter/nautilus-adapter-embed-strategy.h
	(NautilusAdapterEmbedStrategyClass): Added "activate" and "deactivate"
	signals.
	(nautilus_adapter_embed_strategy_get): Removed ui_container argument.
	(nautilus_adapter_embed_strategy_activate): New function; emits
	the "activate" signal.
	(nautilus_adapter_embed_strategy_deactivate): New function; emits
	the "deactivate" signal.

	* components/adapter/nautilus-adapter-control-embed-strategy.c
	(nautilus_adapter_control_embed_strategy_activate): New static function;
	this is the handler of the "activate" signal.
	(nautilus_adapter_control_embed_strategy_deactivate): New static function;
	this is the handler of the "deactivate" signal.

	* components/adapter/nautilus-adapter-embeddable-embed-strategy.c
	(nautilus_adapter_embeddable_embed_strategy_activate): New static function;
	this is the handler of the "activate" signal.
	(nautilus_adapter_embeddable_embed_strategy_deactivate): New static function;
	this is the handler of the "deactivate" signal.

	* components/adapter/nautilus-adapter.c (nautilus_adapter_activate_callback):
	New static function; connect this to the "activate" signal of the adapter
	control.

2000-10-23  Kjartan Maraas  <kmaraas@gnome.org>

	* src/nautilus-shell-ui.xml.h: Check in a file containing
	the strings to be translated instead of the 0-byte file that's
	there now.
	
2000-10-23  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (service_tab_selected_callback),
	(updates_tab_selected_callback):
	made the updates section of the summary use the new, image-based tabs.
	
	* libnautilus-extensions/nautilus-tabs.c: (draw_all_tabs):
	made it handle the right edge for the single tab case properly.
	
2000-10-22  Andy Hertzfeld  <set EMAIL_ADDRESS environment variable>

	* components/services/summary/
		nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_login_dialog),
	(nautilus_summary_view_load_uri), (service_tab_selected_callback):
	
	added image-based tabs to the summary view.  Also, fixed problem where
	the throbber kept spinning until the login dialog was dismissed by
	making it a non-modal dialog by refraining from calling gnome_run_dialog
	Currently, only the service tabs have been converted but the update
	tab is coming soon.
	
	* libnautilus-extensions/Makefile.am:
	* libnautilus-extensions/nautilus-tabs.c:
	(nautilus_tabs_initialize_class), (nautilus_tabs_initialize),
	(nautilus_tabs_new), (tab_item_destroy), (tab_item_destroy_cover),
	(nautilus_tabs_destroy), (nautilus_tabs_unload_tab_pieces),
	(load_tab_piece), (nautilus_tabs_load_tab_pieces),
	(nautilus_tabs_hit_test), (measure_height), (recalculate_size),
	(nautilus_tabs_size_request), (draw_tab_piece_aa),
	(draw_pixbuf_tiled_aa), (allocate_cleared_pixbuf),
	(measure_tab_name), (draw_tab_label), (draw_all_tabs),
	(tab_item_find_by_name), (nautilus_tabs_expose),
	(nautilus_tabs_draw), (nautilus_tabs_add_tab),
	(nautilus_tabs_remove_tab), (nautilus_tabs_prelight_tab),
	(nautilus_tabs_select_tab), (nautilus_tabs_press_event),
	(nautilus_tabs_leave_event), (nautilus_tabs_motion_event):
	* libnautilus-extensions/nautilus-tabs.h:
	added a new class for the fancy Arlo tabs in the summary view,
	based on the sidebar tabs.

	* configure.in:
	* components/services/summary/
		nautilus-view/Makefile.am:
	* components/services/summary/
		nautilus-view/icons/.cvsignore:
	* components/services/summary/
		nautilus-view/icons/Makefile.am:
	* components/services/summary/
		nautilus-view/icons/gray_tab_pieces/.cvsignore:
	* components/services/summary/
		nautilus-view/icons/gray_tab_pieces/*.png
	
	added Arlo's new tab images for the summary view
	
	* src/nautilus-property-browser.c:
	(nautilus_property_browser_initialize), (add_new_button_callback),
	(done_button_callback):
	
	added a done button to the property dialog to make it easier to
	dismiss it.
	
2000-10-22  Mike Fleming  <mfleming@eazel.com>

	* libnautilus-extensions/nautilus-stock-dialogs.c:
	(timed_wait_free), (timed_wait_callback):

	Made timed-wait dialog remember the dialog.  Was being triggered
	during a DAV rename w/ debug info on.

2000-10-22  Robert Brady  <rwb197@zepler.org>

	* configure.in: Added en_GB to ALL_LINGUAS.

Sun Oct 22 05:25:46 2000  George Lebl <jirka@5z.com>

	* librsvg/rsvg-ft.c (rsvg_ft_ctx_done): Things allocated with
	  glib functions must be freed with g_free, not free

2000-10-21  Eskil Heyn Olsen  <eskil@eazel.com>

	* nautilus.spec.in:
	Dep on bonobo>=0.24 and medusa >= 0.2.1

2000-10-21  Gene Z. Ragan  <gzr@eazel.com>

	* THANKS:
	Added syncomm to THANKS file.
	
2000-10-21  Josh Barrow  <josh@eazel.com>

	* AUTHORS:
	* THANKS:
	* src/nautilus-window-menus.c: (help_menu_about_nautilus_callback):
	Added Eli to the about box and moved him from THANKS to AUTHORS, per 
	Maciej.

2000-10-21  Ali Abdin  <aliabdin@aucegypt.edu>

	* components/help/converters/gnome-db2html2/toc-elements.c:
	(toc_sect_end_element): Add in 'break;' at the appropriate areas of
	the code. Should fix some issues. DOH!! This was also needed to fix
	Bug #3863. Thank god for testers.

2000-10-21  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in: Added pl to ALL_LINGUAS.

2000-10-21  Mathieu Lacage <mathieu@eazel.com>

	* user-guide/C/img/*.png: remove till I can find time to redo all
	the screenshots: people are complaining it kills their bandwith for
	no good reason.

2000-10-21  Ali Abdin  <aliabdin@aucegypt.edu>

        * components/help/converters/gnome-db2html2/sect-elements.c:
        (sect_sect_end_element): Add in 'break;' at the appropriate areas of
        the code. Should fix some issues. Fixes Bug #3863.

2000-10-21  Robey Pointer  <robey@eazel.com>

	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (generate_install_form),
	(nautilus_service_install_downloading),
	(nautilus_service_install_installing):

	Remove artificial pauses I was using for testing (oops), and
	change the font size of the overall feedback text to something
	readable in AA.

2000-10-20 John Fleck <jfleck@inkstain.net>

	* user-guide/C/sgml/nautilus.sgml - changed "doctype" to "DOCTYPE"
	in the dtd declaration. This is needed for gnome-db2html2 to
	correctly render the document into html for Mozilla to display

2000-10-20  Robey Pointer  <robey@eazel.com>

	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba-types.c:
	(corba_packagedatastruct_from_packagedata),
	(packagedata_from_corba_packagedatastruct):
	* components/services/install/lib/eazel-install-protocols.c:
	(get_url_for_package):
	* components/services/install/lib/eazel-install-types.c:
	(packagedata_new), (packagedata_copy),
	(packagedata_fill_from_rpm_header), (packagedata_destroy):
	* components/services/install/lib/eazel-install-types.h:
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (eazel_install_packagedata_to_xml):
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (add_padding_to_box), (generate_install_form),
	(show_overall_feedback), (make_new_status),
	(current_progress_bar_complete),
	(nautilus_service_install_downloading),
	(nautilus_service_install_installing),
	(nautilus_service_install_view_update_from_uri):

	Add package "summary" field to store the RPM one-line summary
	field (we want to show it in the installer).

2000-10-20  Andy Hertzfeld  <andy@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c:
	(nautilus_icon_container_update_icon):
	at Arlo's urging, I removed the emblem scale pinning that was added
	last week, which isn't right if you think of the emblems as part
	of the icons like Arlo does.  I also added an emblem scale factor to
	make the emblems a more reasonable size.
	
	* src/file-manager/fm-list-view.c:
	fixed bug 3900, emblems too large in the list view, by correct
	the LIST_VIEW_MINIMAL_EMBLEM_SIZE constant, which was set too large.
	
2000-10-20  John Sullivan  <sullivan@eazel.com>

	Fixed bug 3548 (modal error dialog is flakey in summary view)

	I made a bunch of small improvements to this file. Most of
	these had been checked in earlier but accidentally clobbered,
	but there are some new ones too.

	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	Removed feedback_text field from details struct. This was used in
	an unnecessary and leak-inducing way before.
	(generate_summary_form): Remove period following exclamation point
	in on-screen text.
	(error_dialog_retry_cb): Removed this function.
	(set_dialog_parent): New helper function to parent a dialog on
	the NautilusSummaryView's window.
	(generate_error_dialog): Removed "Retry" button since it is 
	extremely unlikely to work, thus resulting in constant frustration;
	Removed initialized but unused "reply" variable; removed extra 
	initialization of "dialog" variable; use OK button instead of
	Cancel since there's only one button now; set up error message
	with parameter instead of details field; set text justification
	and line wrap to accommodate longer messages; parent the dialog
	so it doesn't appear in some random place.
	(authn_cb_failed): pass message to generate_error_dialog directly;
	removed unnecessary capital letter in message.
	(generate_login_dialog): remove initialized but unused "reply" variable;
	change "Please Login" to "Please log in"; parent the dialog.
	(nautilus_summary_view_load_uri): collapse a lot of identical code;
	improve error messages; display error message when xml file couldn't
	be parsed (was supposed to before, but wasn't); only generate the
	summary form if xml file was parsed.
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-service-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:

2000-10-21  Mathieu Lacage  <mathieu@eazel.com>

	* user-guide/C/sgml/chapter-1.sgml:
	stupid me: forgot a sect2 in the middle of nowhere...

2000-10-20  Rebecca Schulman  <rebecka@eazel.com>
	Fix for bug 1768, to put a hard limit on
	the number of files for PR2.  We do this 
	by keeping a count of confirmed files
	in directories, and stopping a load once the confirmed 
	file count reaches a certain level.

	* libnautilus-extensions/nautilus-directory-async.c:
	(set_file_unconfirmed), (dequeue_pending_idle_callback),
	(directory_load_one), (directory_load_done),
	(directory_load_callback), (mark_all_files_unconfirmed),
	(nautilus_directory_stop_monitoring_file_list):
	Increment or decrement file count when marking a file confirmed
	or unconfirmed.
	* libnautilus-extensions/nautilus-directory-private.h:
	add file count file
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_add_file), (nautilus_directory_remove_file),
	(nautilus_directory_file_list_length_reached):
	increment and decrement file counts here when a file is added.
	A file is always confirmed when it is initially added, so 
	increment always, but only decrement the count when we are 
	removing a confirmed file.
	* libnautilus-extensions/nautilus-directory.h:
	Add function nautilus_directory_file_list_length_reached
	as public 
	* src/file-manager/fm-directory-view.c:
	(check_for_directory_hard_limit), (done_loading):
	when we finish loading the directory, display the hard limit
	dialog if necesssary, to let the user know we've stopped the directory
	load to prevent nautilus from overloading.

2000-10-20  Darin Adler  <darin@eazel.com>

	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* libnautilus/Makefile.am:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	We need to include the .xml.h files in EXTRA_DIST. My mistake
	turning that off (killed the Tinderbox).
	
	* src/nautilus-window-manage-views.c:
	(position_and_show_window_callback),
	(nautilus_window_end_location_change_callback): Fix small ref
	mistake I might have introduced with my last check-in.

2000-10-20  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c:
	* components/services/summary/nautilus-view/tests/README:
	* components/services/summary/nautilus-view/tests/redirects.xml:
	* components/services/summary/nautilus-view/tests/services.xml:
	* src/nautilus-service-ui.xml.h:

	Added simple test xmls to generate lots of entries in the summary view.

2000-10-20  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_service_entry_row):
	fixed a memory leak in the summary view, where it was allocating a
	structure used in a callback but never releasing it.
	
2000-10-20  Andy Hertzfeld  <andy@eazel.com>

	* components/hardware/icons/Makefile.am:
	* components/hardware/icons/CD_drive.png:
	* components/hardware/nautilus-hardware-view.c:
	(setup_overview_form):
	added a better icon for CD drives from Susan, and used it in the
	hardware view instead of the CD icon it was using.
	
2000-10-20  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 3805, Nautilus tries to parse text files on the desktop as XML.
	
	* libnautilus-extensions/nautilus-link.c:
	(local_get_root_property):
	Do a check on the mime type of the file before processing it as XML.
	Also fix a bug where a NULL XMLDoc was being used.

2000-10-20  Andy Hertzfeld  <andy@eazel.com>

	fixed bug 3803, pin image size for downloaded images in summary
	view
	
	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.c: (create_image_widget_from_uri):
	added optional image size pinning to create_image_widget_from_uri
	
	* components/services/nautilus-dependent-shared/shared-service-widg
	ets.h:
	changed parameters to create_image_widget_from_uri
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row):
	pinned downloaded images to a maximum size, fixing bug 3803.  Also,
	tweaked button layout a bit.
	
2000-10-20  Darin Adler  <darin@eazel.com>

	* Makefile.am:
	* Makefile.shared:
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/sample/Makefile.am:
	* components/services/install/command-line/Makefile.am:
	* components/services/summary/nautilus-view/Makefile.am:
	* libnautilus-extensions/Makefile.am:
	* libnautilus/Makefile.am:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	Moved some shared Makefile stuff to a shared include file so we
	don't use "copy and paste technology" in our Makefiles. Fixed the
	rule that builds .xml.h files so it doesn't have to be copied and
	pasted everywhere.
	
	* components/loser/content/nautilus-content-loser-ui.xml.h:
	* components/loser/sidebar/nautilus-sidebar-loser-ui.xml.h:
	* components/mozilla/nautilus-mozilla-ui.xml.h:
	* components/sample/nautilus-sample-content-view-ui.xml.h:
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:
	Regenerated the xml.h files with the new Bonobo tool, which keeps
	things in alphabetical order to minimize cvs thrashing.
	
	* components/services/summary/nautilus-view/Makefile.am:
	* components/services/summary/nautilus-view/nautilus-summary-view-ui.xml.h:
	Added localization for the summary view UI.
		
	* src/Makefile.am:
	Added localization for the service UI pieces.
	
	* libnautilus-extensions/nautilus-buffered-widget.c:
	(nautilus_buffered_widget_initialize),
	(connect_to_background_if_needed): Fixed bug where the widget
	would stay connected after the background was destroyed. John saw
	it once, but I'm not sure how to reproduce it.
	
	* nautilus.spec.in: Fix some bad spelling and strange wording.
	
	* src/nautilus-applicable-views.h:
	* src/nautilus-applicable-views.c: (got_file_info_callback),
	(nautilus_navigation_info_new), (nautilus_navigation_info_cancel),
	(nautilus_navigation_info_free),
	(nautilus_navigation_info_get_location),
	(nautilus_navigation_info_get_initial_content_id):
	Removed lots of cruft from this class so it's private and can be
	changed around a bit.
	
	* src/nautilus-window-manage-views.c:
	(nautilus_window_update_internals): Use the new
	nautilus_navigation_info_get_location.
	(handle_unreadable_location): Get rid of unneeded file == NULL
	check.
	(load_view_for_new_location): Use the new
	nautilus_navigation_info_get_initial_content_id.
	(set_view_location_and_selection): Use the new
	nautilus_navigation_info_get_location.
	(nautilus_window_end_location_change_callback): Use the new
	nautilus_navigation_info_get_location.
	(nautilus_window_begin_location_change): Remove some unnecessary
	code.

2000-10-20  Mathieu Lacage  <mathieu@eazel.com>

	More ids in sects.
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:

2000-10-20  Mathieu Lacage  <mathieu@eazel.com>

	Add sect ids and big caps entities
	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/install.sgml:
	* user-guide/C/sgml/intro.sgml:
	* user-guide/C/sgml/manual.sgml:

2000-10-20  John Sullivan  <sullivan@eazel.com>

	Fixed bug 3902 (Some search results do not have file
	info displayed)

	* libnautilus-extensions/nautilus-directory-async.c:
	(async_job_wake_up): Remove directory from hash table
	when it's awoken; clear already_waking_up boolean at
	end of routine.

2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* src/nautilus-sidebar-title.c: (update_font):
	Make the code that looks for largest font that fits a sidebar
	title work even if we dont find the exact font we look for.
	Fixes bug 2812.
	
2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/Makefile.am:
	* librsvg/rsvg.c: (rsvg_text_handler_characters):
	Make sure the font used for text is svg icons actually exists.
	Fix (rather a worksround) for bug 3774.  We will have a better fix
	later (bug 3904).
	
2000-10-22  Andy Hertzfeld  <andy@eazel.com>

	made the images show up again in the summary view by adding
	image fetching from the service via http.
	
	* components/services/nautilus-dependent-shared/
	shared-service-widgets.c: (create_image_widget_from_pixbuf),
	(create_image_widget), (create_image_widget_from_uri):
	restructured code a bit so I could at fetching from a uri instead of
	a local icon.  Added optimization so a local icon could be used
	at the service's discretion.
	
	* components/services/nautilus-dependent-shared/
	  shared-service-widgets.h:
	added create_image_widget_from_uri
	
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row):
	made it fetch the icons from the service
	
2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/rsvg.c: (rsvg_text_handler_characters),
	(rsvg_start_text):
	Quiet down the debug spewage.
	
2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* nautilus.spec.in:
	Forgot to add the font metrics to the rpm spec file.
	
2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* data/fonts/urw/Makefile.am:
	* data/fonts/urw/fonts.dir:
	* data/fonts/urw/n019003l.afm:
	* data/fonts/urw/n019004l.afm:
	* data/fonts/urw/n019023l.afm:
	* data/fonts/urw/n019024l.afm:
	Added missing font metrics.
	Also update to latest urw fonts.

2000-10-20  Maciej Stachowiak  <mjs@eazel.com>

	* components/adapter/bonobo-stream-vfs.h,
	components/adapter/bonobo-stream-vfs.c: (vfs_write), (vfs_read),
	(vfs_seek), (vfs_truncate), (vfs_copy_to), (vfs_close), (vfs_eos),
	(vfs_length), (bonobo_stream_vfs_class_init),
	(bonobo_stream_vfs_init), (bonobo_stream_vfs_get_type),
	(Bonobo_Stream_vfs__create), (bonobo_stream_vfs_new_internal),
	(bonobo_stream_vfs_open), (bonobo_stream_vfs_new): Moved here from
	libnautilus-extensions; bunches of cleanup to match nautilus style
	better.

	* components/adapter/Makefile.am: Added above two files to build.

	* components/adapter/nautilus-adapter-progressive-load-strategy.c:
	Up the load chunk.
	
	* components/adapter/nautilus-adapter-stream-load-strategy.c:
	Include "bonobo-stream-vfs.h" not
	<libnautilus-extensions-stream-vfs.h>

	* libnautilus-extensions/bonobo-stream-vfs.c,
	libnautilus-extensions/bonobo-stream-vfs.h: Removed from here.
	
	* libnautilus-extensions/Makefile.am: Removed from build.

2000-10-20  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row):

	Added vseparators, fixed button sizes, added new buttons to the
	updates section.  I'm almost getting good at this stuff !

2000-10-20  Robey Pointer  <robey@eazel.com>

	* icons/Makefile.am:
	* icons/services-rpm-72.png:
	* libnautilus-extensions/nautilus-icon-factory.c:

	Add new eazel-install: icon for Arlo and make the icon factory use
	it instead of the gnome-pack-rpm one.

2000-10-20  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 2948, list view does not prelight under cursor when
	dragging files.
	
	* libnautilus-extensions/nautilus-list.c:
	* libnautilus-extensions/nautilus-list.h:
	(nautilus_list_initialize), (draw_cell_pixmap), (draw_cell),
	(nautilus_list_prelight_if_necessary),

	(nautilus_list_set_drag_prelight_row):
	New function to set drag prelight row based on mouse position.
	
	* src/file-manager/fm-list-view.c: (fm_list_handle_dragged_items):
	
	* components/image-viewer/nautilus-image-view.c:
	(view_size_allocate_cb):
	Removed some old debug code.
	
2000-10-19  Robey Pointer  <robey@eazel.com>

	* components/services/install/idl/trilobite-eazel-install.idl:
	* components/services/install/lib/eazel-install-corba.c:
	(impl_Eazel_Install_stop), (eazel_install_get_epv):
	* components/services/install/lib/eazel-install-object.c:
	(eazel_install_install_packages),
	(eazel_install_emit_install_progress_default),
	(eazel_install_emit_download_progress_default),
	(eazel_install_emit_preflight_check_default),
	(eazel_install_emit_delete_files_default):
	* components/services/install/lib/eazel-install-private.h:
	* components/services/install/lib/eazel-install-protocols.c:
	(gnome_vfs_xfer_callback), (gnome_vfs_fetch_remote_file):

	Make the install lib check for corba events while doing a download
	(which might take a while) so that it can receive a "stop"
	message.  Ref itself while doing the install to avoid a mess.  Try
	to catch some corba exceptions and abort on them.  Set a flag on
	the "stop" message and cancel the gnome-vfs operation.  Make the
	download_progress callback be a two-way call to trick corba into
	checking for potential incoming "stop" calls.  These sum up to a
	rough hack which will be cleaned out when the installer is broken
	up into more stateful components post-PR2.
	
	* components/services/install/nautilus-view/nautilus-service-instal
	l-view.c: (nautilus_service_install_view_destroy),
	(current_progress_bar_complete),
	(nautilus_service_install_downloading),
	(nautilus_service_install_installing),
	(nautilus_service_need_password),
	(nautilus_service_install_view_update_from_uri),
	(service_install_stop_loading_callback):

	Send "stop" message to the install view when the user hits the
	"stop" button, and also when the view is about to be destroyed.
	Cleanly handle the "stop" button by treating it like an abort.
	Use better-named /tmp directory, for security reasons.
	
2000-10-20  Ramiro Estrugo  <ramiro@eazel.com>

	* configure.in:
	Update for latest freeype2 rpm changes.
	
2000-10-20  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row):

	Adding "infinite" row capabilities for generated tables.  Fixed several
	more layout issues.  The buttons are completely screwed up now from a
	ui perspective.  Trying to fix that now.

2000-10-19  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/lib/eazel-summary-shared.c:
	(eazel_news_data_new), (update_news_data_new),
	(parse_a_eazel_news_item), (parse_a_update_news_item):
	* components/services/summary/lib/eazel-summary-shared.h:
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_update_news_entry_row):

	New xml parsing information.  Fixed button labels and sizes.  A few
	minor ui tweaks.

2000-10-20  Mathieu Lacage  <mathieu@eazel.com>

	Add screenshot images.
	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:
	* user-guide/C/sgml/install.sgml:

2000-10-19  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/
	nautilus-summary-view.c: (authn_cb_failed), (logout_button_cb), 
	(logged_in_callback), (logged_out_callback),
	(bonobo_logout_callback), (bonobo_preferences_callback),
	(update_menu_items), (merge_bonobo_menu_items):
	
	fixed the login menu command, and added support for the preferences
	and logout command.  Made it properly show and hide the appropriate
	commands according to the logged_in state
	
	* components/services/summary/nautilus-view/
	nautilus-summary-view-ui.xml:
	added menu items for preferences and logout
	
	* src/nautilus-service-ui.xml:
	added tooltips for service menu commands

2000-10-19  Mathieu Lacage  <mathieu@eazel.com>

	* user-guide/C/Makefile.am: modify to install sgml 
	instead of html
	* user-guide/C/img/.cvsignore: add 
	* user-guide/C/sgml/.cvsignore: add

	sgml files.
	* user-guide/C/sgml/chapter-1.sgml:
	* user-guide/C/sgml/chapter-2.sgml:
	* user-guide/C/sgml/chapter-3.sgml:
	* user-guide/C/sgml/install.sgml:
	* user-guide/C/sgml/intro.sgml:
	* user-guide/C/sgml/manual.sgml:
	* user-guide/C/sgml/model.sgml:

	screenshots....
	* user-guide/C/img/*.png

2000-10-19  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_error_dialog), (generate_login_dialog),
	(nautilus_summary_view_load_uri):

	Fixing dialogs and error control cases.  Works a little better now
	but still doesn't destroy the error dialogs like its supposed to do.

2000-10-19  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (logged_in_callback):

	Fixing login callback so that view does not crash.

2000-10-19  Darin Adler  <darin@eazel.com>

	Check in the xml.h files. It would be better not to have these
	checked in, but it helps the translators if they are. If we
	come up with something better later, we can get rid of them.
	For now, if you exit a ui.xml file, then you should also do
	a build and check in the generated xml.h file.

	* components/loser/content/nautilus-content-loser-ui.xml.h:
	* components/loser/sidebar/nautilus-sidebar-loser-ui.xml.h:
	* components/mozilla/nautilus-mozilla-ui.xml.h:
	* components/sample/nautilus-sample-content-view-ui.xml.h:
	* libnautilus/nautilus-clipboard-ui.xml.h:
	* src/file-manager/nautilus-directory-view-ui.xml.h:
	* src/file-manager/nautilus-icon-view-ui.xml.h:
	* src/file-manager/nautilus-search-list-view-ui.xml.h:
	* src/nautilus-shell-ui.xml.h:

2000-10-19  Darin Adler  <darin@eazel.com>

	Do some routine housekeeping that will help make the future
	switchover to libxml2 easier.
	
	* components/help/converters/gnome-db2html2/gdb3html.h:
	* components/help/hyperbola-nav-index.c:
	* components/help/hyperbola-nav-search.c:
	* libnautilus-extensions/nautilus-directory-async.c:
	* libnautilus-extensions/nautilus-directory-metafile.c:
	* libnautilus-extensions/nautilus-directory-metafile.h:
	* libnautilus-extensions/nautilus-directory-private.h:
	* libnautilus-extensions/nautilus-file.c:
	* libnautilus-extensions/nautilus-icon-factory.c:
	* libnautilus-extensions/nautilus-link-set.c:
	* libnautilus-extensions/nautilus-link.c:
	* libnautilus-extensions/nautilus-theme.c:
	* libnautilus-extensions/nautilus-volume-monitor.c:
	* libnautilus-extensions/nautilus-xml-extensions.h:
	* librsvg/rsvg.c:
	* src/nautilus-bookmark-list.c:
	* src/nautilus-bookmark-parsing.c:
	* src/nautilus-bookmark-parsing.h:
	* src/nautilus-link-set-window.c:
	* src/nautilus-property-browser.c:
	* src/nautilus-sidebar.c:
	* src/nautilus-theme-selector.c:
	* src/nautilus-window-menus.c:
	Use the <gnome-xml/> prefix on all includes of gnome-xml headers.
	This is allowed with the version of libxml1 we use now, and
	required for libxml2. Note that we now require the newer libxml1
	version that allows this, because Bonobo requires it.
	
	* components/services/install/lib/eazel-install-xml-package-list.c:
	(parse_package), (parse_category), (parse_shared),
	(parse_memory_transaction_file), (parse_local_xml_package_list),
	(generate_xml_package_list), (osd_parse_dependency),
	(osd_parse_implementation), (osd_parse_softpkg),
	(osd_parse_shared):
	* components/services/summary/lib/eazel-summary-shared.c:
	(build_services_glist_from_xml), (build_eazel_news_glist_from_xml),
	(build_update_news_glist_from_xml), (parse_summary_xml_file):
	* components/services/trilobite/libtrilobite/helixcode-utils.c:
	(xml_get_value):
	* components/services/trilobite/libtrilobite/trilobite-redirect.c:
	(trilobite_redirect_parse_xml):
	* libnautilus-extensions/nautilus-xml-extensions.c:
	(nautilus_xml_get_children):
	Use xmlChildrenNode instead of childs, as recommended by the
	libxml maintainer for libxml1/libxml2 compatibility.
	
	* src/nautilus-main.c: (main): Use the LIBXML_TEST_VERSION macro
	as recommended by the libxml maintainer for libxml1/libxml2
	compatibility.
	
	* components/music/nautilus-music-view.c:
	Added a lot of FIXMEs. Some other rudimentary cleanup.

2000-10-19  Michael Engber  <engber@eazel.com>

	* libnautilus-extensions/nautilus-icon-container.c:
	(icon_is_positioned), (pending_icon_to_reveal_destroy_callback),
	(get_pending_icon_to_reveal), (set_pending_icon_to_reveal),
	(reveal_icon), (process_pending_icon_to_reveal),
	(lay_down_icons_tblr), (relayout):
	* libnautilus-extensions/nautilus-icon-private.h:
	* src/file-manager/fm-directory-view.c: (start_renaming_item),
	(reveal_newly_added_folder), (new_folder_done),
	(fm_directory_view_new_folder), (fm_directory_view_set_selection),
	(fm_directory_view_select_file):

	Newly added folders are now revealed (bug 2208). Other cases
	(e.g. duplicate) still remain. They will require adding new hooks
	to nautilus-file-operations.

2000-10-19  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (nautilus_summary_view_load_uri),
	(bonobo_login_callback):

	Fixing login menu callback and adding logic to only display login
	dialog when no user is logged in.

2000-10-19  John Sullivan  <sullivan@eazel.com>

	Fixed some cases where the error message for why a
	location couldn't be loaded was misleading or too generic.
	I ran into some of these while fiddling with the proxy 
	settings to try out services, so I'm sure other users
	will too.

	* libnautilus-extensions/nautilus-directory-async.c:
	(file_info_start): When you can't make a vfs_uri, use
	error GNOME_VFS_ERROR_INVALID_URI. It had been leaving
	this defaulting to GNOME_VFS_OK, which caused locations
	like "bogus:foo" to have a mysterious error message.
	
	* src/nautilus-applicable-views.c:
	(get_nautilus_navigation_result_from_gnome_vfs_result):
	* src/nautilus-applicable-views.h:
	* src/nautilus-window-manage-views.c:
	(nautilus_window_end_location_change_callback): Added
	separate messages for HOST_NOT_FOUND and HOST_HAS_NO_ADDRESS.
	You can get the former by specifying a bogus host name in the
	HTTP Proxy settings, and the latter by not specifying a
	host name at all in the HTTP Proxy settings.

2000-10-19  John Sullivan  <sullivan@eazel.com>

	* components/help/help-contents.oafinfo:
	Changed name of sidebar panel from "Help Contents" to "Help"
	since there is only one Help sidebar panel, and the longer
	title made it take too much space and stand out while adding
	no value.

2000-10-19  John Sullivan  <sullivan@eazel.com>

	Fixed bugzilla bug 3648 (not clear what "xxx" under
	folders means)

	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_get_string_attribute_with_default):
	Change some of the default strings; use "..." when
	we were using "--" (for info not yet obtained); use
	"? items" or "? bytes" when we were using "xxx" 
	(for info not readable).
	(nautilus_file_get_top_left_text): Use "..." when
	we were using "--"

2000-10-19  Andy Hertzfeld  <andy@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (nautilus_summary_view_destroy), (merge_bonobo_menu_items):
	unmerge the summary component's menu items properly by keeping a
	reference to the ui component and unhooking it in the summary view's
	destroy method.
	
2000-10-19  Andy Hertzfeld  <andy@eazel.com>

	first pass at making the summary view merge its menu commands onto
	the services menu. This isn't finished yet.
	
	* components/services/summary/nautilus-view/Makefile.am:
	added a ui xml file for the summary menu commands
	* components/services/summary/nautilus-view/nautilus-summary-view-ui.xml:
	defined the summary view menu items
	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (nautilus_summary_view_initialize), (bonobo_register_callback),
	(bonobo_login_callback), (detach_ui), (merge_bonobo_menu_items):
	merge the menu items when the view is activated, unmerge when destroyed
	
	* src/nautilus-window-service-ui.c: (goto_software_catalog):
	made the software catalog command use the real url.
	
2000-10-19  Pavel Cisler <pavel@eazel.com>

	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_uri_get_basename):
	Ooops, fix a stupid mistake in my last checkin that broke file 
	change notification for fancy names.

2000-10-19  Eskil Heyn Olsen  <eskil@eazel.com>

	* nautilus.spec.in:
	Removed eog dep and added xpdf for nautilus-extras.

2000-10-19  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/sample/Makefile.am:
	* libnautilus/Makefile.am:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	Fun with Build chapter IX.

2000-10-18  Andy Hertzfeld  <andy@eazel.com>

	* components/music/nautilus-music-view.c:
	(nautilus_music_view_initialize), (set_album_cover),
	(image_button_callback), (nautilus_music_view_set_album_image):
	completed bug 2261, setting images for album covers, by making
	the set album cover button the proper size, and leaving it visible
	even when there's a cover so you can change it after setting it.
	
2000-10-18  Eskil Heyn Olsen  <eskil@eazel.com>

	* src/file-manager/Makefile.am:
	Fun with Build.
	I'm feeble and only very slowly finding
	all the -ui.xml.h thing I need to fix.

2000-10-18  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/sample/Makefile.am:
	* libnautilus/Makefile.am:
	Still trying to fix the bloody build...

2000-10-18  Eskil Heyn Olsen  <eskil@eazel.com>

	* components/loser/content/Makefile.am:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/Makefile.am:
	* components/sample/Makefile.am:
	* po/POTFILES.in:
	* src/Makefile.am:
	* src/file-manager/Makefile.am:
	Still fixing the tinderbox build.

2000-10-18  Ramiro Estrugo  <ramiro@eazel.com>

	* README:
	Update for new Mozilla M18 rpms.
	
2000-10-18  Rebecca Schulman  <rebecka@eazel.com>

	Fixed problems in making the new bonobo translation 
	that confused the headers.  Also added .cvsignore
	entries for the new generated xml files.
	
	* components/loser/content/.cvsignore:
	* components/loser/content/Makefile.am:
	* components/loser/sidebar/.cvsignore:
	* components/loser/sidebar/Makefile.am:
	* components/mozilla/.cvsignore:
	* components/mozilla/Makefile.am:
	* components/sample/.cvsignore:
	* components/sample/Makefile.am:
	* icons/.cvsignore:
	* libnautilus/.cvsignore:
	* libnautilus/Makefile.am:
	* src/.cvsignore:
	* src/Makefile.am:
	* src/file-manager/.cvsignore:
	* src/file-manager/Makefile.am:

2000-10-18  Eskil Heyn Olsen  <eskil@eazel.com>

	* po/POTFILES.in:
	Removing more .xml.h files to make tinderbox build again.

2000-10-18  Gene Z. Ragan  <gzr@eazel.com>

	Fixed bug 3705, Bookmark icons do not appear in the menu item

	This was caused by a strange precedence issue in the setting of
	UI component pixbuf data.  If a menu item has alread been created,
	setting the pixbuf data will have no effect.  Either the verb for 
	the item has to be set with the data or the item has to have
	its XML contructed  with the pixbuf type and data included in it
	at creation time. I have opted for the latter choice.
	
	* libnautilus-extensions/nautilus-bonobo-extensions.c:
	* libnautilus-extensions/nautilus-bonobo-extensions.h:	
	(nautilus_bonobo_add_menu_item):
	Added setting of bitmap data if it is present as a
	valid argument passed into the function.
		
	* src/file-manager/fm-directory-view.c:
	(add_open_with_app_bonobo_menu_item),
	(add_open_with_viewer_bonobo_menu_item):
	Call nautilus_bonobo_add_menu_item
	
	* src/nautilus-window-menus.c: (append_bookmark_to_menu):
	Call nautilus_bonobo_add_menu_item
	
	* src/nautilus-window.c: (nautilus_window_filter),
	(nautilus_window_realize), (view_menu_choose_view_callback),
	(nautilus_window_show):
	Work in progress to handle focus issues when performing
	click drag operations in background windows.
	
	* libnautilus-extensions/nautilus-gdk-extensions.c:
	* libnautilus-extensions/nautilus-gdk-extensions.h:
	(nautilus_gdk_window_set_wm_hints_input):
	New function set input files of WM_HINTS. This 
	will be used later to handle click drag in background
	windows.

2000-10-18  Ramiro Estrugo  <ramiro@eazel.com>

	* components/mozilla/nautilus-mozilla-content-view.c:
	(uris_are_equal), (nautilus_mozilla_content_view_load_uri):
	Add support for reloading pages while ignoring the mozilla cache.
	Fixes bug 2780.
	
2000-10-18  Robey Pointer  <robey@eazel.com>

	* components/services/trilobite/libtrilobite/trilobite-core-utils.c
	: (trilobite_fetch_uri):
	* components/services/trilobite/libtrilobite/trilobite-redirect.c:
	(check_gconf_init):

	Fix new incompatability with gnome-vfs (EOF is now an "error").
	
	* libnautilus-extensions/nautilus-icon-factory.c:
	(nautilus_icon_factory_get_icon_name_for_regular_file):

	Begin the slightly distateful process of adding special-case uri
	scheme icons to the left panel: make the install view use the RPM
	package icon.  Eventually we need to generalize the association of
	icons with uri schemes.

2000-10-18  John Sullivan  <sullivan@eazel.com>

	Fixed bug 3839 (want Nautilus User Manual menu item)
	Note that this menu item does not actually work, due
	to bug 3876.

	* src/nautilus-shell-ui.xml:
	Add menu item for bringing up Nautilus User Manual.
	* src/nautilus-window-menus.c:
	(help_menu_nautilus_manual_callback),
	(nautilus_window_initialize_menus): Add verb
	and callback for Nautilus User Manual menu item.

2000-10-18  Eskil Heyn Olsen  <eskil@eazel.com>

	* configure.in:
	If no bonobo-ui-extract, AC_MSG_ERROR rather then cryptic failure
	during compile.
	
	* libnautilus/Makefile.am:
	Removed some evil blankspace

	* po/POTFILES.in
	Had to remove nautitlus-mozilla-ui.xml.h, since it's a conditional
	build, and eg. is not built on tinderbox.eazel.com. Better fix
	will have to come later, need new rpms' in softcat.
	
2000-10-18  J Shane Culpepper  <pepper@eazel.com>

	* components/services/summary/nautilus-view/nautilus-summary-view.c
	: (generate_summary_form), (generate_service_entry_row),
	(generate_eazel_news_entry_row), (generate_update_news_entry_row),
	(authn_cb_succeeded), (authn_cb_failed), (login_button_cb),
	(generate_error_dialog), (generate_login_dialog),
	(widget_set_nautilus_background_color),
	(nautilus_summary_view_initialize),
	(nautilus_summary_view_load_uri):

	New summary view ui.  Still missing a few fetures but works ok now.

2000-10-18  Mathieu Lacage  <mathieu@eazel.com>

	disable bug-buddy for nautilus.
	* src/nautilus-main.c: (main):

2000-10-19  Kjartan Maraas  <kmaraas@gnome.org>

	* */Makefile.am: Feeble attempt to hook up generation
	of .h files from the *-ui.xml files to get them included
	in the translations. This will need to be done in a better
	way I guess.
	* configure.in: Added a check for bonobo-ui-extract.
	
2000-10-18  Pavel Cisler  <pavel@eazel.com>

	* components/tree/nautilus-tree-view.c:
	* libnautilus-extensions/nautilus-directory.c:
	(nautilus_directory_notify_files_moved),
	(nautilus_directory_schedule_metadata_copy),
	(nautilus_directory_schedule_metadata_move),
	(nautilus_directory_schedule_metadata_remove):
	* libnautilus-extensions/nautilus-file-utilities.c:
	(nautilus_uri_get_basename):
	* libnautilus-extensions/nautilus-file-utilities.h:
	* libnautilus-extensions/nautilus-file.c:
	(nautilus_file_get_internal):
	* src/nautilus-theme-selector.c: (add_theme_to_icons):
	Clean up calls to gnome_vfs_extract_short_name, remove explicit
	unescaping because gnome_vfs_extract_short_name now does it.
	Eliminate some copy-paste technology, creating a new call
	nautilus_uri_get_basename.

2000-10-18  Robey Pointer  <robey@eazel.com>

	* components/services/login/nautilus-view/nautilus-change-password-
	view.c: (user_logged_in), (generate_change_password_form):
	* components/services/login/nautilus-view/nautilus-change-password-
	view.oafinfo:

	Fill in the username automatically if you're already logged in.
	Make the prompts more i18n'able.  Change title from "Log in" to
	"Change password".  Fix oafinfo typo that caused the change-pw
	view to never get displayed.
	
2000-10-18  Darin Adler  <darin@eazel.com>

	Some Music View fixes. Andy asked me to work on this.
	
	* components/music/main.c: (main): Make warnings drop into the
	debugger.
	
	* components/music/nautilus-music-view.c:
	(nautilus_music_view_destroy): Change to use a NautilusFile object
	instead of using a uri string.
	(set_album_cover): Use the file object.
	(metadata_callback): Get rid of the unref that was causing a lot
	of trouble.
	(nautilus_music_view_update): Get the uri from the file object
	instead of vice versa.
	(detach_file): Cancel the call when releasing the file.
	(nautilus_music_view_load_uri): Release the old file and get a new
	one when the URI changes.

2000-10-17  Maciej Stachowiak  <mjs@eazel.com>

	Fixed bugzilla.eazel.com bugs 2222, 3177, 3468, 3650, 3788
	(some vestiges of wait_until_ready remain in the farther reaches
	of the UI).
	
	* libnautilus-extensions/nautilus-mime-actions.h,
	libnautilus-extensions/nautilus-mime-actions.c
	(nautilus_mime_actions_check_if_required_attributes_ready,
	nautilus_mime_actions_get_required_file_attributes,
	nautilus_mime_actions_wait_for_required_file_attributes): New
	functions to help with monitoring or waiting for required
	attributes for the nautilus mime API.
	(nautilus_mime_get_default_action_type_for_file,
	nautilus_mime_get_default_action_for_file,
	nautilus_mime_get_default_application_for_file_internal,
	nautilus_mime_get_default_application_for_file,
	nautilus_mime_is_default_application_for_file_user_chosen,
	nautilus_mime_get_default_component_for_file_internal,
	nautilus_mime_get_default_component_for_file,
	nautilus_mime_is_default_component_for_file_user_chosen,
	nautilus_mime_get_short_list_applications_for_file,
	nautilus_mime_get_short_list_components_for_file,
	nautilus_mime_get_short_list_methods_for_file,
	nautilus_mime_get_all_applications_for_file,
	nautilus_mime_has_any_applications_for_file,
	nautilus_mime_get_all_components_for_file,
	nautilus_mime_has_any_components_for_file,
	nautilus_mime_set_default_action_type_for_file,
	nautilus_mime_set_default_application_for_file,
	nautilus_mime_set_default_component_for_file,
	nautilus_mime_set_short_list_applications_for_file,
	nautilus_mime_set_short_list_components_for_file,
	nautilus_mime_add_application_to_short_list_for_file,
	nautilus_mime_remove_application_from_short_list_for_file,
	nautilus_mime_add_component_to_short_list_for_file,
	nautilus_mime_remove_component_from_short_list_for_file,
	nautilus_mime_extend_all_applications_for_file,
	nautilus_mime_remove_from_all_applications_for_file,
	mime_type_get_supertype): Don't `nautilus_file_wait_until_ready'
	for the required attributes; instead assert (Well, return_if_fail)
	that they are available using
	`nautilus_file_check_if_ready'. Also, use
	`nautilus_file_get_uri_scheme' where possible.

	* libnautilus-extensions/nautilus-directory-async.c
	(mime_list_callback): Correct some coding mistakes.

	* libnautilus-extensions/nautilus-wait-until-ready.h,
	libnautilus-extensions/nautilus-directory.c: Remove
	`nautilus_directory_wait_until_ready'.

	* libnautilus-extensions/nautilus-file.h,
	libnautilus-extensions/nautilus-file.c
	(nautilus_file_get_uri_scheme): new convenience function.
	
	* libnautilus-extensions/nautilus-program-chooser.c:
	(repopulate_program_list, is_application_default_for_file,
	is_component_default_for_file,
	is_component_in_short_list_for_file,
	is_application_in_short_list_for_file,
	program_file_pair_is_default_for_file,
	program_file_pair_is_in_short_list_for_file,
	add_to_short_list_for_file, remove_from_short_list_for_file,
	remove_default_for_item, set_default_for_item): wait_until_ready
	for required file attributes.

	* libnautilus-extensions/nautilus-program-choosing.c:
	(any_programs_available_for_file): wait_until_ready for required
	file attributes.

	* src/file-manager/fm-directory-view.c: (switch_location_and_view,
	create_open_with_gtk_menu, reset_bonobo_open_with_menu,
	activate_callback): Wait for the right file attributes.

	* src/nautilus-applicable-views.c: (got_file_info_callback),
	(nautilus_navigation_info_new): Wait for the right file
	attributes. (no wait_until_ready).
	
	* src/nautilus-sidebar.c: (nautilus_sidebar_destroy,
	nautilus_sidebar_update_buttons, nautilus_sidebar_update_all),
	nautilus_sidebar_set_uri): Monitor the file the sidebar is
	displaying, and update when it's attributes change.
	
	* src/nautilus-window-manage-views.c
	(nautilus_window_set_content_view): Wait for the right file
	attributes. (no wait_until_ready).

	* src/nautilus-window.c: (nautilus_window_destroy,
	view_menu_choose_view_callback, view_menu_vfs_method_callback,
	nautilus_window_real_load_content_view_menu,
	nautilus_window_load_content_view_menu): Wait for the right
	attributes. (no wait_until_ready in this chain).
	
	* test/test-nautilus-mime-actions-set.c (main): Wait for the right attributes.
	* test/test-nautilus-mime-actions.c (main): Wait for the right attributes.

2000-10-18  Darin Adler  <darin@eazel.com>

	* components/notes/nautilus-notes.c: (make_notes_view):
	* src/nautilus-location-bar.c: (nautilus_location_bar_new):
	* src/nautilus-simple-search-bar.c:
	(nautilus_simple_search_bar_new):
	Use calls by new names.
	
	* libnautilus-extensions/nautilus-undo-signal-handlers.c:
	(editable_key_press_event), (nautilus_undo_editable_set_undo_key):
	Disabled the undo-key part of undo also. The old code was actually
	harmless because it got the name of the signal wrong, but it's
	better to have it disabled.
	* src/nautilus-shell-ui.xml: Added a comment that points out the
	2nd place where undo has been disabled.
	
	* libnautilus/nautilus-clipboard.h:
	* libnautilus/nautilus-clipboard.c: (cut_callback),
	(copy_callback), (paste_callback), (clear_callback),
	(set_paste_sensitive_if_clipboard_contains_data),
	(focus_changed_callback), (target_destroy_callback),
	(nautilus_clipboard_set_up_editable), (first_focus_callback),
	(control_destroyed_callback),
	(nautilus_clipboard_set_up_editable_in_control),
	(disconnect_set_up_in_control_handlers):
	Some minor cleanup of the clipboard code. Includes bug fixes for
	items that are already in focus when the clipboard is hooked up
	(should never happen), and a fix for code that was using
	gtk_signal_disconnect on something that was connected with
	gtk_signal_connect_while_alive (doesn't work). Also got rid of
	misguided code that was copying a Bonobo_UIContainer with memcpy
	(since Bonobo_UIContainer is just a pointer).
	
	* src/Makefile.am:
	* src/nautilus-window-private.h:
	Changed source file name from nautilus-service-menu to
	nautilus-service-ui, since it does a toolbar item, not just a
	menu.
	
	* src/nautilus-window-service-ui.c:
	* src/nautilus-window-service-ui.h:
	A second cut at the service UI code. It no longer leaks a UI
	component.

	* src/nautilus-window.c: (nautilus_window_constructed),
	(nautilus_window_get_ui_container): Use our own pointer to the UI
	container instead of asking the shell UI for its container.

2000-10-18  John Sullivan  <sullivan@eazel.com>

	Fixed bug 3862 (Icon view reversed after looking at list view)
	Fixed bug 916 (workaround for Bonobo radio item bug)
	Also fixed bug where the "tighter layout" and "reversed order"
	items in the context menu were doing nothing at all.

	* src/file-manager/fm-icon-view.c: 
	Removed "updating_toggle_menu_item" from Details struct.
	(set_tighter_layout): New helper function, handles the code
	common to the Bonobo and GTK menu callbacks.
	(gtk_tighter_layout_callback), (gtk_sort_reversed_callback),
	New functions used for GTK context menu. Will go away when 
	we use Bonobo for context menus.
	(tighter_layout_state_changed_callback),
	(sort_reversed_state_changed_callback): Use passed state value,
	including checking for empty state (empty state happens when
	component is removed from container). This lets us eliminate the
	checks for "updating_toggle_item".	
	(handle_radio_item): Removed check for updating_toggle_menu_item.
	This already worked correctly without this check.
	(insert_one_context_menu_item),	(append_one_context_menu_item),
	(append_one_toggle_context_menu_item): Tweaked these to pass in
	an initial toggle state for toggle menu items, to avoid setting
	the toggle state after the callback has been attached. All this
	code will be removed when we switch to Bonobo for context menus.
	(fm_icon_view_create_selection_context_menu_items),
	(fm_icon_view_create_background_context_menu_items),
	(update_layout_menus):

2000-10-18  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-preferences-item.c:
	(preferences_item_create_font_family):
	Remove the fixed font from the list of available fonts.  Its a bad
	one to use because it crashes the SideBar sometimes.  The problem
	is that the fixed font doesnt support the "find the largest
	fitting font" game that the SideBar plays for long strings.

	Its kinda lame to fix the bug by yanking the font, but we have
	many font improvements planned for after PR2 which will render
	this issue irrelevant.

	Fixes bug 2256.
	
2000-10-18  Ramiro Estrugo  <ramiro@eazel.com>

	* librsvg/rsvg-ft.c: (rsvg_ft_measure_or_render_string),
	(rsvg_ft_render_string), (rsvg_ft_measure_string):
	* librsvg/rsvg-ft.h:
	Add new function to only measure a string without doing all the
	rendering work.
	
	* libnautilus-extensions/nautilus-scalable-font.c:
	(nautilus_scalable_font_measure_text):
	Use the new rsvg_ft string measuring api.

	Fixes bug 2544.
	
2000-10-18  Ramiro Estrugo  <ramiro@eazel.com>

	* libnautilus-extensions/nautilus-font-factory.c:
	(font_hash_node_lookup_with_insertion),
	(nautilus_font_factory_get_fallback_font):
	* libnautilus-extensions/nautilus-gdk-extensions.c:
	(nautilus_get_largest_fitting_font), (nautilus_gdk_font_get_bold):
	* libnautilus-extensions/nautilus-gtk-extensions.c:
	(nautilus_gtk_widget_set_font_by_name):
	* libnautilus-extensions/nautilus-icon-factory.c: (embed_text):
	* src/nautilus-zoom-control.c: (draw_number):
	Use gdk_fontset_load() instead of gdk_font_load() to make i18n
	work better.  Also marked some hard-coded fonts fot localization.
	There is still an open bug on writing useful comments about these
	for the localizers.  Fixes bugs 3143 and 3144.

	Thanks to Yukihiro Nakai <ynakai@redhat.com> for pointing these
	problems out and providing patches to fix them.
	
	* src/nautilus-profiler.c: (window_print_button_callback),
	(window_save_button_callback), (dump_dialog_new),
	(dump_dialog_show):
	Same as above plus mark some strings for localization and add
	assertions to currently unimplemented functions.
	
2000-10-18  Maciej Stachowiak  <mjs@eazel.com>

	* ChangeLog: rolled over to ChangeLog-20001018.

