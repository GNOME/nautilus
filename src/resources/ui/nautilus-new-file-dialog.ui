<?xml version="1.0" encoding="UTF-8"?>
<interface>
  <requires lib="gtk" version="4.0"/>
  <template class="NautilusNewFileDialog" parent="AdwDialog">
    <property name="title" translatable="yes">New File</property>
    <property name="content-width">500</property>
    <property name="content-height">450</property>
    <property name="child">
      <object class="AdwToolbarView" id="toolbar_view">
        <child type="top">
          <object class="AdwHeaderBar">
            <property name="show-start-title-buttons">False</property>
            <property name="show-end-title-buttons">False</property>
            <child type="start">
              <object class="GtkButton" id="cancel_button">
                <property name="label" translatable="yes">_Cancel</property>
                <property name="use-underline">true</property>
                <property name="can-shrink">True</property>
                <signal name="clicked" handler="adw_dialog_close" object="NautilusNewFileDialog"/>
              </object>
            </child>
            <child type="end">
              <object class="GtkButton" id="ok_button">
                <property name="label" translatable="yes">C_reate</property>
                <property name="use-underline">true</property>
                <property name="can-shrink">True</property>
                <property name="sensitive" bind-source="validator" bind-property="passed" bind-flags="sync-create"/>
                <signal name="clicked" handler="new_file_dialog_on_create" swapped="no"/>
                <style>
                  <class name="suggested-action"/>
                </style>
              </object>
            </child>
          </object>
        </child>
        <property name="content">
          <object class="AdwClamp">
            <property name="margin_top">18</property>
            <property name="margin_bottom">18</property>
            <property name="margin_start">18</property>
            <property name="margin_end">18</property>
            <property name="child">
              <object class="GtkBox">
                <property name="orientation">vertical</property>
                <property name="spacing">12</property>
                <child>
                </child>
                <child>
                  <object class="AdwPreferencesGroup">
                    <child>
                      <object class="AdwEntryRow" id="name_entry">
                        <property name="title" translatable="yes">File Name</property>
                        <signal name="changed" handler="nautilus_filename_validator_validate" object="validator" swapped="yes"/>
                        <child>
                          <object class="GtkLabel" id="extension_label">
                            <property name="label">.txt</property>
                            <attributes>
                              <attribute name="weight" value="bold"/>
                            </attributes>
                            <style>
                              <class name="dim-label"/>
                            </style>
                          </object>
                        </child>
                      </object>
                    </child>
                  </object>
                </child>
                <child>
                  <object class="GtkRevealer">
                    <property name="reveal-child" bind-source="validator" bind-property="has-feedback"/>
                    <property name="child">
                      <object class="GtkLabel">
                        <property name="label" bind-source="validator" bind-property="feedback-text"/>
                        <property name="xalign">0</property>
                        <style>
                          <class name="warning"/>
                          <class name="caption"/>
                        </style>
                      </object>
                    </property>
                  </object>
                </child>
                <child>
                  <object class="AdwPreferencesGroup">
                    <child>
                      <object class="AdwActionRow" id="text_action_row">
                        <property name="icon-name">text-x-generic-symbolic</property>
                        <property name="title" translatable="yes">_Text File</property>
                        <property name="use-underline">true</property>
                        <signal name="activate" handler="text_action_row_on_activated" swapped="no"/>
                        <child>
                          <object class="GtkCheckButton" id="text_check_button">
                            <property name="active">True</property>
                          </object>
                        </child>
                        <property name="activatable_widget">text_check_button</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwActionRow" id="document_action_row">
                        <property name="icon-name">x-office-document-symbolic</property>
                        <property name="title" translatable="yes">_Document</property>
                        <property name="use-underline">true</property>
                        <signal name="activate" handler="document_action_row_on_activated" swapped="no"/>
                        <child>
                          <object class="GtkCheckButton" id="document_check_button">
                            <property name="group">text_check_button</property>
                          </object>
                        </child>
                        <property name="activatable_widget">document_check_button</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwActionRow" id="spreadsheet_action_row">
                        <property name="icon-name">x-office-spreadsheet-symbolic</property>
                        <property name="title" translatable="yes">_Spreadsheet</property>
                        <property name="use-underline">true</property>
                        <signal name="activate" handler="spreadsheet_action_row_on_activated" swapped="no"/>
                        <child>
                          <object class="GtkCheckButton" id="spreadsheet_check_button">
                            <property name="group">text_check_button</property>
                          </object>
                        </child>
                        <property name="activatable_widget">spreadsheet_check_button</property>
                      </object>
                    </child>
                    <child>
                      <object class="AdwActionRow" id="presentation_action_row">
                        <property name="icon-name">x-office-presentation-symbolic</property>
                        <property name="title" translatable="yes">_Presentation</property>
                        <property name="use-underline">true</property>
                        <signal name="activate" handler="presentation_action_row_on_activated" swapped="no"/>
                        <child>
                          <object class="GtkCheckButton" id="presentation_check_button">
                            <property name="group">text_check_button</property>
                          </object>
                        </child>
                        <property name="activatable_widget">presentation_check_button</property>
                      </object>
                    </child>
                  </object>
                </child>
              </object>
            </property>
          </object>
        </property>
      </object>
    </property>
  </template>
  <object class="NautilusFilenameValidator" id="validator">
    <!-- <property name="new-name" bind-source="name_entry" bind-property="text"/> -->
    <binding name="new-name">
      <lookup name="text">name_entry</lookup>
    </binding>
    <!-- <signal name="name-accepted" handler="on_name_accepted" swapped="yes"/> -->
    <!-- <signal name="notify::has-feedback" handler="on_feedback_changed" swapped="yes" object="NautilusNewFileDialog"/> -->
  </object>
</interface>
